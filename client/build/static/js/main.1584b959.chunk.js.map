{"version":3,"sources":["redux/actions/postAction.js","pages sync /^/.*$","redux/actions/notifyAction.js","../node_modules/peerjs/dist sync","components/NotFound.js","customRouter/PageRender.js","customRouter/PrivateRouter.js","components/alert/Loading.js","components/alert/Toast.js","components/alert/Alert.js","components/NotifyModal.js","images/notice.png","components/header/Menu.js","components/header/Search.js","components/header/Header.js","components/StatusModal.js","audio/got-it-done-613.mp3","SocketClient.js","audio/ringring.mp3","components/message/CallModal.js","App.js","reportWebVitals.js","redux/reducers/authReducer.js","redux/reducers/alertReducer.js","redux/reducers/themeReducer.js","redux/reducers/profileReducer.js","redux/reducers/statusReducer.js","redux/reducers/postReducer.js","redux/reducers/modalReducer.js","redux/reducers/detailPostReducer.js","redux/reducers/discoverReducer.js","redux/reducers/suggestionsReducer.js","redux/reducers/socketReducer.js","redux/reducers/notifyReducer.js","redux/reducers/messageReducer.js","redux/reducers/onlineReducer.js","redux/reducers/callReducer.js","redux/reducers/peerReducer.js","redux/reducers/index.js","redux/store.js","index.js","redux/actions/messageAction.js","images/loading.gif","components/Avatar.js","redux/actions/profileAction.js","components/UserCard.js","redux/actions/globalTypes.js","utils/imageUpload.js","utils/mediaShow.js","components/LoadMoreBtn.js","components/FollowBtn.js","utils/valid.js","redux/actions/authAction.js","redux/actions/suggestionsAction.js","redux/actions/discoverAction.js","components/PostThumb.js","components/Icons.js","pages/message/index.js","pages/login.js","pages/register.js","components/home/Status.js","components/home/Posts.js","components/home/RightSideBar.js","pages/home.js","components/message/LeftSide.js","utils/config.js","components/home/post_card/CardHeader.js","components/Carousel.js","components/home/post_card/CardBody.js","images/send.svg","components/LikeButton.js","components/ShareModal.js","components/home/post_card/CardFooter.js","redux/actions/commentAction.js","components/home/comments/CommentMenu.js","components/home/InputComment.js","components/home/comments/CommentCard.js","components/home/comments/CommentDisplay.js","components/home/Comments.js","components/PostCard.js","pages/discover.js","utils/fetchData.js","pages/post/[id].js","components/profile/EditProfile.js","components/profile/Followers.js","components/profile/Following.js","components/profile/Info.js","components/profile/Posts.js","components/profile/Saved.js","pages/profile/[id].js","utils/mediaShow2.js","components/message/Times.js","components/message/MsgDisplay.js","components/message/RightSide.js","pages/message/[id].js"],"names":["POST_TYPES","CREATE_POST","LOADING_POST","GET_POSTS","UPDATE_POST","GET_POST","DELETE_POST","createPost","content","images","auth","socket","dispatch","a","media","type","GLOBALTYPES","ALERT","payload","loading","length","imageUpload","postDataAPI","token","res","data","newPost","user","msg","id","_id","text","recipients","followers","url","image","createNotify","error","response","getPosts","getDataAPI","console","log","page","updatePost","status","imgNewUrl","filter","img","imgOldUrl","patchDataAPI","success","likePost","post","likes","emit","unLikePost","like","removeNotify","getPost","detailPost","every","deletePost","deleteDataAPI","deletefile","savePost","newUser","saved","AUTH","unSavePost","map","webpackContext","req","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","NOTIFY_TYPES","GET_NOTIFIES","CREATE_NOTIFY","REMOVE_NOTIFY","UPDATE_NOTIFY","UPDATE_SOUND","DELETE_ALL_NOTIFIES","notify","username","avatar","getNotifies","notifies","isReadNotify","isRead","deleteAllNotifies","webpackEmptyContext","NotFound","className","style","minHeight","top","left","transform","PageRender","useParams","pageName","useSelector","state","React","createElement","require","default","err","generatePage","PrivateRouter","props","localStorage","getItem","to","Loading","background","color","zIndex","width","height","viewBox","stroke","strokeWidth","fill","points","x","y","Toast","handleShow","bgColor","right","minWidth","title","data-dismiss","outline","onClick","body","Notify","alert","useDispatch","NotifyModal","handleSound","sound","fontSize","cursor","src","alt","maxHeight","overflow","index","handleIsRead","Avatar","size","slice","match","moment","createdAt","fromNow","newArr","item","window","confirm","Menu","theme","pathname","useLocation","isActive","pn","label","icon","path","link","opacity","role","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","htmlFor","THEME","logout","Search","useState","search","setSearch","users","setUsers","load","setLoad","handleSearch","preventDefault","handleClose","onSubmit","name","value","onChange","target","toLowerCase","replace","display","LoadIcon","UserCard","border","Header","scrollTo","process","StatusModal","setContent","setImages","stream","setStream","videoRef","useRef","refCanvas","tracks","setTracks","useEffect","onEdit","stop","STATUS","placeholder","Icons","camera","imageShow","videoShow","URL","createObjectURL","splice","deleteImages","autoPlay","muted","ref","current","clientWidth","clientHeight","setAttribute","getContext","drawImage","toDataURL","navigator","mediaDevices","getUserMedia","video","then","mediaStream","srcObject","play","track","getTracks","catch","multiple","accept","files","newImages","forEach","file","push","SocketClient","online","call","audioRef","on","off","Notification","onclick","open","MESS_TYPES","ADD_MESSAGE","ADD_USER","includes","ONLINE","OFFLINE","CALL","controls","audiobell","CallModal","peer","hours","setHours","mins","setMins","second","setSecond","total","setTotal","answer","setAnswer","youVideo","otherVideo","newCall","setNewCall","setTime","t","setTimeout","parseInt","addCallMessage","useCallback","times","disconnect","recipient","sender","Date","toISOString","addMessage","handleEndCall","close","timer","clearTimeout","openStream","config","audio","playStream","tag","handleAnswer","peerId","remoteStream","removeListener","pauseAudio","newAudio","pause","currentTime","Audio","RingRing","playAudio","padding","fullname","toString","playsInline","App","modal","refreshToken","io","SOCKET","getSuggestions","permission","requestPermission","newPeer","Peer","undefined","secure","PEER","Alert","exact","component","Home","Login","Register","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","authReducer","action","alertReducer","themeReducer","ids","posts","profileReducer","PROFILE_TYPES","LOADING","GET_USER","FOLLOW","UNFOLLOW","EditData","GET_ID","statusReducer","result","postReducer","DeleteData","modalReducer","MODAL","detailPostReducer","firstLoad","discoverReducer","DISCOVER_TYPES","suggestionsReducer","SUGGES_TYPES","GET_USERS","socketReducer","notifyReducer","resultUsers","messageReducer","messages","GET_CONVERSATIONS","GET_MESSAGES","UPDATE_MESSAGES","DELETE_MESSAGES","newData","DELETE_CONVERSATION","CHECK_ONLINE_OFFLINE","onlineReducer","callReducer","peerReducer","combineReducers","profile","homePosts","discover","suggestions","message","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","DataProvider","children","ReactDOM","render","StrictMode","document","getElementById","getConversations","conversations","cv","getMessages","reverse","loadMoreMessages","deleteMessages","deleteConversation","getProfileUsers","res1","updateProfileUser","userData","story","follow","following","unfollow","setShowFollowers","setShowFollowing","showMsg","checkImage","imgArr","fileName","FormData","now","append","axios","delete","LoadMoreBtn","handleLoadMore","FollowBtn","followed","setFollowed","find","handleFollow","handleUnFollow","valid","email","password","cf_password","test","validateEmail","errMsg","errLength","login","access_token","setItem","register","check","removeItem","location","href","getDiscoverPosts","PostThumb","comments","Message","setUserData","typePass","setTypePass","history","useHistory","handleChangeInput","aria-describedby","disabled","gender","typeCfPass","setTypeCfPass","defaultChecked","Status","Posts","PostCard","RightSideBar","rel","wordBreak","scroll","addEventListener","pageYOffset","behavior","LeftSide","searchUsers","setSearchUsers","pageEnd","setPage","handleAddUser","IntersectionObserver","entries","isIntersecting","p","threshold","observe","BASE_URL","CardHeader","clipboard","writeText","Carousel","data-ride","data-target","data-slide-to","data-slide","aria-hidden","CardBody","readMore","setReadMore","LikeButton","isLike","handleLike","handleUnLike","ShareModal","FacebookShareButton","FacebookIcon","round","TwitterShareButton","TwitterIcon","EmailShareButton","EmailIcon","RedditShareButton","RedditIcon","TelegramShareButton","TelegramIcon","WhatsappShareButton","WhatsappIcon","CardFooter","setIsLike","loadLike","setLoadLike","isShare","setIsShare","setSaved","saveLoad","setSaveLoad","handleSavePost","handleUnSavePost","Send","likeComment","comment","newComment","newComments","unLikeComment","CommentMenu","setOnEdit","handleRemove","deleteArr","cm","reply","da","deleteComment","MenuItem","InputComment","onReply","setOnReply","trim","commentId","postId","postUserId","createComment","CommentCard","styleCard","pointerEvents","rows","updateComment","CommentDisplay","replyCm","showRep","setShowRep","next","setNext","Comments","setComments","showComments","setShowComments","replyComments","setReplyComments","newCm","newRep","Discover","get","headers","Authorization","patch","Post","setPost","EditProfile","mobile","address","website","setAvatar","handleInput","cols","Followers","Following","Info","showFollowers","showFollowing","setPosts","setResult","Saved","savePosts","setSavePosts","Profile","saveTab","setSaveTab","Times","MsgDisplay","borderRadius","toLocaleTimeString","toLocaleString","RightSide","setUser","setText","setMedia","loadMedia","setLoadMedia","refDisplay","setData","isLoadMore","setIsLoadMore","scrollIntoView","block","handleSubmit","getMessagesData","caller","callUser","marginTop","handleDeleteMedia","newMedia","Conversation"],"mappings":"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","file":"static/js/main.1584b959.chunk.js","sourcesContent":["import { GLOBALTYPES } from './globalTypes';\nimport { imageUpload, deletefile } from '../../utils/imageUpload';\nimport {\n  postDataAPI,\n  getDataAPI,\n  patchDataAPI,\n  deleteDataAPI,\n} from '../../utils/fetchData';\nimport { createNotify, removeNotify } from './notifyAction';\n\nexport const POST_TYPES = {\n  CREATE_POST: 'CREATE_POST',\n  LOADING_POST: 'LOADING_POST',\n  GET_POSTS: 'GET_POSTS',\n  UPDATE_POST: 'UPDATE_POST',\n  GET_POST: 'GET_POST',\n  DELETE_POST: 'DELETE_POST',\n};\n\nexport const createPost =\n  ({ content, images, auth, socket }) =>\n  async (dispatch) => {\n    let media = [];\n    try {\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\n      if (images.length > 0) media = await imageUpload(images);\n\n      const res = await postDataAPI(\n        'posts',\n        { content, images: media },\n        auth.token\n      );\n\n      dispatch({\n        type: POST_TYPES.CREATE_POST,\n        payload: { ...res.data.newPost, user: auth.user },\n      });\n\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: false } });\n\n      // Notify\n      const msg = {\n        id: res.data.newPost._id,\n        text: 'added a new post.',\n        recipients: res.data.newPost.user.followers,\n        url: `/post/${res.data.newPost._id}`,\n        content,\n        image: media[0].url,\n      };\n\n      dispatch(createNotify({ msg, auth, socket }));\n    } catch (err) {\n      dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: { error: err.response.data.msg },\n      });\n    }\n  };\n\nexport const getPosts = (token) => async (dispatch) => {\n  try {\n    dispatch({ type: POST_TYPES.LOADING_POST, payload: true });\n    const res = await getDataAPI('posts', token);\n    console.log('get res.data', res.data);\n\n    dispatch({\n      type: POST_TYPES.GET_POSTS,\n      payload: { ...res.data, page: 2 },\n    });\n\n    dispatch({ type: POST_TYPES.LOADING_POST, payload: false });\n  } catch (err) {\n    dispatch({\n      type: GLOBALTYPES.ALERT,\n      payload: { error: err.response.data.msg },\n    });\n  }\n};\n\nexport const updatePost =\n  ({ content, images, auth, status }) =>\n  async (dispatch) => {\n    let media = [];\n    const imgNewUrl = images.filter((img) => !img.url);\n    const imgOldUrl = images.filter((img) => img.url);\n\n    if (\n      status.content === content &&\n      imgNewUrl.length === 0 &&\n      imgOldUrl.length === status.images.length\n    )\n      return;\n\n    try {\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\n      if (imgNewUrl.length > 0) media = await imageUpload(imgNewUrl);\n\n      const res = await patchDataAPI(\n        `post/${status._id}`,\n        {\n          content,\n          images: [...imgOldUrl, ...media],\n        },\n        auth.token\n      );\n\n      dispatch({ type: POST_TYPES.UPDATE_POST, payload: res.data.newPost });\n\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\n    } catch (err) {\n      dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: { error: err.response.data.msg },\n      });\n    }\n  };\n\nexport const likePost =\n  ({ post, auth, socket }) =>\n  async (dispatch) => {\n    const newPost = { ...post, likes: [...post.likes, auth.user] };\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\n\n    socket.emit('likePost', newPost);\n\n    try {\n      await patchDataAPI(`post/${post._id}/like`, null, auth.token);\n\n      // Notify\n      const msg = {\n        id: auth.user._id,\n        text: 'like your post.',\n        recipients: [post.user._id],\n        url: `/post/${post._id}`,\n        content: post.content,\n        image: post.images[0].url,\n      };\n\n      dispatch(createNotify({ msg, auth, socket }));\n    } catch (err) {\n      dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: { error: err.response.data.msg },\n      });\n    }\n  };\n\nexport const unLikePost =\n  ({ post, auth, socket }) =>\n  async (dispatch) => {\n    const newPost = {\n      ...post,\n      likes: post.likes.filter((like) => like._id !== auth.user._id),\n    };\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost });\n\n    socket.emit('unLikePost', newPost);\n\n    try {\n      await patchDataAPI(`post/${post._id}/unlike`, null, auth.token);\n\n      // Notify\n      const msg = {\n        id: auth.user._id,\n        text: 'like your post.',\n        recipients: [post.user._id],\n        url: `/post/${post._id}`,\n      };\n      dispatch(removeNotify({ msg, auth, socket }));\n    } catch (err) {\n      dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: { error: err.response.data.msg },\n      });\n    }\n  };\n\nexport const getPost =\n  ({ detailPost, id, auth }) =>\n  async (dispatch) => {\n    if (detailPost.every((post) => post._id !== id)) {\n      try {\n        const res = await getDataAPI(`post/${id}`, auth.token);\n        dispatch({ type: POST_TYPES.GET_POST, payload: res.data.post });\n      } catch (err) {\n        dispatch({\n          type: GLOBALTYPES.ALERT,\n          payload: { error: err.response.data.msg },\n        });\n      }\n    }\n  };\n\nexport const deletePost =\n  ({ post, auth, socket }) =>\n  async (dispatch) => {\n    dispatch({ type: POST_TYPES.DELETE_POST, payload: post });\n\n    try {\n      const res = await deleteDataAPI(`post/${post._id}`, auth.token);\n\n      console.log('post.images', post.images);\n      await deletefile(post.images);\n      // Notify\n      const msg = {\n        id: post._id,\n        text: 'added a new post.',\n        recipients: res.data.newPost.user.followers,\n        url: `/post/${post._id}`,\n      };\n      dispatch(removeNotify({ msg, auth, socket }));\n    } catch (err) {\n      dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: { error: err.response.data.msg },\n      });\n    }\n  };\n\nexport const savePost =\n  ({ post, auth }) =>\n  async (dispatch) => {\n    const newUser = { ...auth.user, saved: [...auth.user.saved, post._id] };\n    dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\n\n    try {\n      await patchDataAPI(`savePost/${post._id}`, null, auth.token);\n    } catch (err) {\n      dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: { error: err.response.data.msg },\n      });\n    }\n  };\n\nexport const unSavePost =\n  ({ post, auth }) =>\n  async (dispatch) => {\n    const newUser = {\n      ...auth.user,\n      saved: auth.user.saved.filter((id) => id !== post._id),\n    };\n    dispatch({ type: GLOBALTYPES.AUTH, payload: { ...auth, user: newUser } });\n\n    try {\n      await patchDataAPI(`unSavePost/${post._id}`, null, auth.token);\n    } catch (err) {\n      dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: { error: err.response.data.msg },\n      });\n    }\n  };\n","var map = {\n\t\"./discover\": 78,\n\t\"./discover.js\": 78,\n\t\"./home\": 67,\n\t\"./home.js\": 67,\n\t\"./login\": 65,\n\t\"./login.js\": 65,\n\t\"./message\": 62,\n\t\"./message/\": 62,\n\t\"./message/[id]\": 89,\n\t\"./message/[id].js\": 89,\n\t\"./message/index\": 62,\n\t\"./message/index.js\": 62,\n\t\"./post/[id]\": 87,\n\t\"./post/[id].js\": 87,\n\t\"./profile/[id]\": 88,\n\t\"./profile/[id].js\": 88,\n\t\"./register\": 66,\n\t\"./register.js\": 66\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 107;","import { GLOBALTYPES } from './globalTypes'\nimport { postDataAPI, deleteDataAPI, getDataAPI, patchDataAPI } from '../../utils/fetchData'\n\nexport const NOTIFY_TYPES = {\n    GET_NOTIFIES: 'GET_NOTIFIES',\n    CREATE_NOTIFY: 'CREATE_NOTIFY',\n    REMOVE_NOTIFY: 'REMOVE_NOTIFY',\n    UPDATE_NOTIFY: 'UPDATE_NOTIFY',\n    UPDATE_SOUND: 'UPDATE_SOUND',\n    DELETE_ALL_NOTIFIES: 'DELETE_ALL_NOTIFIES'\n}\n\nexport const createNotify = ({msg, auth, socket}) => async (dispatch) => {\n    try {\n        const res = await postDataAPI('notify', msg, auth.token)\n\n        socket.emit('createNotify', {\n            ...res.data.notify,\n            user: {\n                username: auth.user.username,\n                avatar: auth.user.avatar\n            }\n        })\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const removeNotify = ({msg, auth, socket}) => async (dispatch) => {\n    try {\n        await deleteDataAPI(`notify/${msg.id}?url=${msg.url}`, auth.token)\n        \n        socket.emit('removeNotify', msg)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const getNotifies = (token) => async (dispatch) => {\n    try {\n        const res = await getDataAPI('notifies', token)\n        \n        dispatch({ type: NOTIFY_TYPES.GET_NOTIFIES, payload: res.data.notifies })\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\n\nexport const isReadNotify = ({msg, auth}) => async (dispatch) => {\n    dispatch({type: NOTIFY_TYPES.UPDATE_NOTIFY, payload: {...msg, isRead: true}})\n    try {\n        await patchDataAPI(`/isReadNotify/${msg._id}`, null, auth.token)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const deleteAllNotifies = (token) => async (dispatch) => {\n    dispatch({type: NOTIFY_TYPES.DELETE_ALL_NOTIFIES, payload: []})\n    try {\n        await deleteDataAPI('deleteAllNotify', token)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 133;","import React from 'react'\n\nconst NotFound = () => {\n    return (\n        <div className=\"position-relative\" style={{minHeight: 'calc(100vh - 70px)'}}>\n            <h2 className=\"position-absolute text-secondary\"\n            style={{top: '50%', left: '50%', transform: 'translate(-50%, -50%)'}}>\n                404 | Not Found.\n            </h2>\n        </div>\n    )\n}\n\nexport default NotFound\n","import React from 'react'\nimport {useParams} from 'react-router-dom'\nimport NotFound from '../components/NotFound'\nimport { useSelector } from 'react-redux'\n\nconst generatePage = (pageName) => {\n    const component = () => require(`../pages/${pageName}`).default\n\n    try {\n        return React.createElement(component())\n    } catch (err) {\n        return <NotFound />\n    }\n}\n\nconst PageRender = () => {\n    const {page, id} = useParams()\n    const { auth } = useSelector(state => state)\n\n    let pageName = \"\";\n\n    if(auth.token){\n        if(id){\n            pageName = `${page}/[id]`\n        }else{\n            pageName = `${page}`\n        }\n    }\n\n    return generatePage(pageName)\n}\n\nexport default PageRender\n","import { Route, Redirect} from 'react-router-dom'\n\nconst PrivateRouter = (props) => {\n    const firstLogin = localStorage.getItem('firstLogin')\n    return firstLogin ? <Route {...props} /> : <Redirect to=\"/\" />\n}\n\nexport default PrivateRouter\n","import React from 'react'\n\nconst Loading = () => {\n    return (\n        <div className=\"position-fixed w-100 h-100 text-center loading\"\n        style={{background: \"#0008\", color: \"white\", top: 0, left: 0, zIndex: 50}}>\n\n            <svg width=\"205\" height=\"250\" viewBox=\"0 0 40 50\">\n                <polygon stroke=\"#fff\" strokeWidth=\"1\" fill=\"none\"\n                points=\"20,1 40,40 1,40\" />\n                <text fill=\"#fff\" x=\"5\" y=\"47\">Loading</text>\n            </svg>\n            \n        </div>\n    )\n}\n\nexport default Loading\n","import React from 'react'\n\nconst Toast = ({msg, handleShow, bgColor}) => {\n    return (\n        <div className={`toast show position-fixed text-light ${bgColor}`}\n        style={{top: '5px', right: '5px', minWidth: '200px', zIndex: 50}}>\n            <div className={`toast-header text-light ${bgColor}`}>\n                <strong className=\"mr-auto text-light\">{msg.title}</strong>\n                <button className=\"ml-2 mb-1 close text-light\"\n                data-dismiss=\"toast\" style={{outline: 'none'}}\n                onClick={handleShow}>\n                    &times;\n                </button>\n            </div>\n            <div className=\"toast-body\">\n                {msg.body}\n            </div>\n        </div>\n    )\n}\n\nexport default Toast\n","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\n\nimport Loading from './Loading'\nimport Toast from './Toast'\n\nconst Notify = () => {\n    const { alert } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    return (\n        <div>\n            {alert.loading && <Loading />}\n\n            {\n                alert.error && \n                <Toast msg={{title: 'Error', body: alert.error}}\n                handleShow={() => dispatch({type: GLOBALTYPES.ALERT, payload: {}})} \n                bgColor=\"bg-danger\" />\n            }\n\n            {\n                alert.success && \n                <Toast msg={{title: 'Success', body: alert.success}} \n                handleShow={() => dispatch({type: GLOBALTYPES.ALERT, payload: {}})}\n                bgColor=\"bg-success\" />\n            }\n        </div>\n    )\n}\n\nexport default Notify\n","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport NoNotice from '../images/notice.png'\nimport { Link } from 'react-router-dom'\nimport Avatar from './Avatar'\nimport moment from 'moment'\nimport { isReadNotify, NOTIFY_TYPES, deleteAllNotifies } from '../redux/actions/notifyAction'\n\nconst NotifyModal = () => {\n    const { auth, notify } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const handleIsRead = (msg) => {\n        dispatch(isReadNotify({msg, auth}))\n    }\n\n    const handleSound = () => {\n        dispatch({type: NOTIFY_TYPES.UPDATE_SOUND, payload: !notify.sound})\n    }\n\n    const handleDeleteAll = () => {\n        const newArr = notify.data.filter(item => item.isRead === false)\n        if(newArr.length === 0) return dispatch(deleteAllNotifies(auth.token))\n\n        if(window.confirm(`You have ${newArr.length} unread notices. Are you sure you want to delete all?`)){\n            return dispatch(deleteAllNotifies(auth.token))\n        }\n    }\n\n    return (\n        <div style={{minWidth: '300px'}}>\n            <div className=\"d-flex justify-content-between align-items-center px-3\">\n                <h3>Notification</h3>\n                {\n                    notify.sound \n                    ? <i className=\"fas fa-bell text-danger\" \n                    style={{fontSize: '1.2rem', cursor: 'pointer'}}\n                    onClick={handleSound} />\n\n                    : <i className=\"fas fa-bell-slash text-danger\"\n                    style={{fontSize: '1.2rem', cursor: 'pointer'}}\n                    onClick={handleSound} />\n                }\n            </div>\n            <hr className=\"mt-0\" />\n\n            {\n                notify.data.length === 0 &&\n                <img src={NoNotice} alt=\"NoNotice\" className=\"w-100\" />\n            }\n\n            <div style={{maxHeight: 'calc(100vh - 200px)', overflow: 'auto'}}>\n                {\n                    notify.data.map((msg, index) => (\n                        <div key={index} className=\"px-2 mb-3\" >\n                            <Link to={`${msg.url}`} className=\"d-flex text-dark align-items-center\"\n                            onClick={() => handleIsRead(msg)}>\n                                <Avatar src={msg.user.avatar} size=\"big-avatar\" />\n\n                                <div className=\"mx-1 flex-fill\">\n                                    <div>\n                                        <strong className=\"mr-1\">{msg.user.username}</strong>\n                                        <span>{msg.text}</span>\n                                    </div>\n                                    {msg.content && <small>{msg.content.slice(0,20)}...</small>}\n                                </div>\n\n                                {\n                                    msg.image &&\n                                    <div style={{width: '30px'}}>\n                                        {\n                                            msg.image.match(/video/i)\n                                            ? <video src={msg.image} width=\"100%\" />\n                                            : <Avatar src={msg.image} size=\"medium-avatar\" />\n                                        }\n                                    </div>\n                                }\n                                \n                            </Link>\n                            <small className=\"text-muted d-flex justify-content-between px-2\">\n                                {moment(msg.createdAt).fromNow()}\n                                {\n                                    !msg.isRead && <i className=\"fas fa-circle text-primary\" />\n                                }\n                            </small>\n                        </div>\n                    ))\n                }\n\n            </div>\n\n            <hr className=\"my-1\" />\n            <div className=\"text-right text-danger mr-2\" style={{cursor: 'pointer'}}\n            onClick={handleDeleteAll}>\n                Delete All\n            </div>\n\n        </div>\n    )\n}\n\nexport default NotifyModal\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMEAAACqCAIAAACbE7xSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAABBmSURBVHhe7Z37XxJpG4ff//+Hd9/dbdsyLVdzNbU0S0uzNjt7KDUPoOAJBYEERFATs32v5Xniw+JI2Mwwp/v6gQ/CwMAz13zv+xkG/M/fgmAOcUgwizgkmEUcEswiDglmEYcEs4hDglnEIcEs4pBgFnFIMIs4JJhFHBLMIg4JZhGHNF+/of8WGiboDpVKpaOjo4ODg1wul81muczn88Vi8fPnz2dnZ3ohoS7BdQhFECidTkcikbm5uXfv3r1+/frt27fv379fXl7e2dnBpC9fvkgyfZeAOoQ9mUwmFArNzMxgz5s3bxBIwXVMmpqamp+fxyQCST9GuIAgOnRycpJMJhcXFycnJ7U4RmDShw8fNjc3C4WCfqRgROAcooRRv5aWllBEuUIOUb8+fvxICeP22dnZare4KxaL0TPpxwvnCJZDNDd0OZQw1f1QtqhZeEPYIBYNNQUuHo+vrKyQQBXJKGqJREJa7IsIlkP0yFtbW0SLkgOTaKiZlNX4QQ+ENCym+iQuiSiiSPprQwLkEAYcHx9Ts1TAULDC4TBmnA8YlkSj3d1dUqos22sKHH9KFBkSIIdOT0+pVkzEKlpQv0gmffe/QSP0osypqjc9PR2NRi9aOOAEyCGmY5VooTzhB7FUpzzhHIVPOYdJLM8t+j6higA5RHna2dlRcy6coHGuX5tInWQySXPN8pQ/OmsslJboPOLQheBQKpUSh75LgBwqlUrkyg/XMqZmUssMCZBD5Eo+n6/M2OmpUap+T72wsKB6akza2NiQntqQADmEFhSjUCikyhmXRMvBwcF5M1iSiIrH44QWwsHHjx/39vZkbm9IgBwCdMEM1eIAGUO6EE6UOfxAHS4pWCQQM7i5uTmVWCy2urpKO1Wn8AWZQDjEtld+kEPZbJZQUQ4pSCOMKRaLmET8sMDa2lrlWDbgHI1RxTPQzyuU8blDbG9CJZPJMCOLRCL0N7RBqsWpwJ/T09PcjltkD/ZQ5lQCKZiU0Q/xWKZysViMonZ4eCi9UQV/OkQ9KhQK6XSa/AiHw2x+soTmBhuq5aiG2797L8/A86AaTRVFkJZc1UG91qDiK4eoNRSjXC6XSCSi0SjqEDAXaWEGnhOf5ufn6ZNIOMqf+twtmGXOJw6pXodUYIsuLS2pg0DNgXUtLi4SeLiLwdS4oJnkB4fYZlQutiLdjN6wTYdkomdaX1/f398PWqvkbYeIH9pb+lzKlmp39CZ1gkqBo1XCJP0SA4BXHSJ7KBx0tbTM9LnO2lMNr4RAWl5ejsfj6psh+hX7F086xLSL1of4qZxQ5jZ4VZhNactkMjRq+nX7FI85RPwwl2bDMCFizqW3mFvBJAIplUr5+xi3xxxCIOrX7OysHTP2H4YX8678JbVXZfSt3/D957Vecoj2WZ2M4Z76hTHYQ9miqWdWSDSef224xe0rKyu8fl+mkTccYuhpgNib2Vp6y7gDHGIuRltGzVpcXOQKr1DNEGsCaXJykvrLfI25pH5XfsEDDimBaj4HdQnKIebzOLRUBpP4k5eqqpterrwkYqFRLpfz2blsbndIHQFybQetzKC8kkDYg0PIpDKJ0oZe5zXi3mw266c0crVDJNDR0VHlrDE3o0wigZRG6pImiRtVr62XK0O9U5+v6ffpcVztUKFQoITVnInhWniR1C+qGJn0T1Uro04ZwDC9UBkW4/ZiseiPFtu9DjHEahamB971qLBBF8ouhYxypgIJXWbLvwNRvSdwXX1N2wcaudShk5OT7e1thl4PuUdAI8APjOHFYw8OqfaoRiMWI42YafogjdzoEI1CKpWiIqjh9igEkjpuVK5p/8CfeKPvLmtEypK1Xv8wxHUOIRC7JgLV9BBehNTBEjRSRQ3olrgRe/QSr19T9RKJhH7z3sRdDpHqx8fHzOSZFesx9jhqvqY0Aq6omZq+u7wAN+bzee9+GOIuh9QvttCTVo+y11EaVVps5v81x7rok+ivme17tDFykUPsiJlMhrHWQ+sj0IieWmnEJfWrulKzw5C7yWTSo42Rixw6PDxknuKnBKqGblodgQQ0qqlowO25XM6LUeQih6hinpvMNw59NCWMuYKqaPRA1XM0QKnNzU3aQT0c3sEtDhUKhZWVleqE9x9YwvS+0hgxR+P9Vs/RMCyVSnkuilzhEKPmxSOKlwVdaJ9phnAIMEY11xWNuDcajdJc63HxCM47dHZ2xqixX9Zku//AFaKoMkcD9VFadRTRM9FceyuKnHfo9PQ0kUgwsnoU/Q5hgyjKIaKXPafaIe4Nh8OMiYc0ct4hukhS3fchpKhEET01JtWcYKQgnDKZjIcOOTrsUKlU+vTpEzvf+aH0MdQv9hkwfNeIFYlEPHSsyGGHisXi2tpaoAT6LhhGFHno0w8nHaKbJrSZp+jBE76BRvF4/LNH/u2Vkw4R1zs7O4yXHjnhGwQznfXBwYEeKXfjpEOMEYVfD5vwb+i76RQ9cc61kw6l02lmZHrMhH9DFMViMU+UM8ccomHc2tryzXlCdrC6ukpnrcfLxTjm0NHREWMkM7I6ENJEtR4vF+OYQ7lcbmlpSY+WYMT09PT29rb7D1g75lAikZBZfX2YsUajUfcfbHTMofX19ZpTQoXzhEIh98/wHXCIcKahDofDAfmMzAwLCwvM8PXAuRVnHKKhZnSkof4us7Oz8XhcD5xbccChs7Mzpqy+P+PMEmbKv1esB86tOOAQhYx8/mDbr1ERb3SjXDYh5+xe1+Tk5MrKisunZg44dHp6Sj7bcdKZ2pATExN//fXX8+fP1ck66i7LKWvzxu51Iejy8nKpVHKzRg44xIhsbGzYMSljiz569Oju3bt37tzp7+9/+PAhG1jfZzUvX758/PjxvXv3ent7+/r6hoaGnj17Vn1GoiXgJY2jy7++6IBDJycnkUjE2k85VCSMjIx0dnbeuHHj2rVrLS0t7e3tAwMDhIReyDpevHiBQF1dXa2trazr+vXrt27dwic7lJ2bmysUCm7+8NUZh+z4abPR0dHbt29fvXqVLQpsWsAnxCIzrC00T548QaDff/9dCaTWhbUPHjxAL2vXxeTD5b8E6oBDnz9/XlxctPDgENsMS+7fv68SSDkEatNSa4gHq7arWhdVspJAFVCKGvr06VNrz4jCoWw26+ZzGp1x6Py3PM3AdmXvp2yRBHp7llEO9fT00KlYtV3VusibmnUBDnV3d4+Pj1vrkPtP0XfGIWu/yKGyge3a1tZWnQ3KIVpsWiILc4jGmfp48+bNmnXhEM01vlq1LoU4ZIDlDinGxsaIHLU5FVyn1aX5tbwfImwoW0SRXlN5XRg8PDxseT8kDhlgk0OIQlvd0dGhNi0blXnZ4OAgt+slrIPnpK2uzAFZF7FEMWVuqJewDnHIAJscAqoMLe3Q0BD1C3tQyg6BKlC2KKCsC3tIOxJI32Ep4pAB9jkEaMS2pAEiEmwVSNGEdYlDBtjqENCOVNA32YZeTRl9k9WIQwbY7ZDPEIcMEIcuhThkgDh0KcQhA8ShSyEOGSAOXQpxyABx6FKIQwaIQ5dCHDKgyQ6pIzejo6N9fX09PT13TMDDh4eHJyYm7DsadB5xyABHcoht397efqNM6w/BA1taWgYGBiw8G6kRxCEDHHFoZGQEh9SZhz+Geuzg4KDkUA2BcIhNPjY29ueff+LB9R8FgYgiO86srY84ZEDzHXr79i0FqL+/v3K29WUpJ9G1P/74Y3x8XD9psxCHDHAkhwgPWiKCBBW0F5dBPcraUyIbRBwywJF+CJ4+fdrd3V0RonHU8rdu3VInJIlDNQTFIRVFdDOoUNGiQVi4ra2NUmjTWWb1EYcMcCqHAI1QQZ1O36BGLEYFVF/YaHICKcQhAxx0CAmYmaNRa2urmqtrUy5ALcOEjipm7Td+GkccMsBBhwCNmKMNDQ11dnYqSxT/5NI31C3cS+GjjyaBLP8ifeOIQwY47hCXTK+IloGBgZ6eHmTCFToewolLKh1zeLIHe+ifEA6BHKliCnHIAGcdUignqGtPnjxBFGJpcHAQpeD+/fvDw8MY5rg9CnHIADc4pKDFgfOWcEsFfZNziEMGuMchTyAOGSAOXQpxyAAcsvZ3P/yNOKT5+vVrqVQ6OTlBoIODg/n5eacOt3iO9+/fp1Kpo6MjRo8xdKFMtjuk7CkWi58+fdrd3U0kErFYjHFxQ7vqCaampqLRKOPG6KXT6f39ffZDV/08o+0OsffwzgkeKV7mYcdj91tfX3eVRvY6hEDJZJKKLpXLKhjJ6elpNDo8PNSj7DT2OpTNZkOhkJQty5mZmWHnpEnQA+0oNjpE2O7s7Mg/B7KJtbU1ukw91o5io0NnZ2dErn7HgtUsLy8T83qsHcVGh5iFsq+8tP+HpILJ4uLi3t6eHmtHsTeHNjc3pZu2iXA4nMvl9Fg7ir390O7uLpMy/aYFS9nY2HDJ1MxGh2B/f1/+ebQdMFNJpVKnp6d6oB3FXod4k+l02pHjQ4j7A+6qR10K/chmwRonJycjkYhLJmVgr0NwcnLCHtNMjV69esW6ZmZm1CcqXG8cNk8jvCtDGExNTbGKZp4py9pDoRACuee/wNjuEF0RGtH9xeNxWuwmsLW1RQFlG4+Ojj579uxJY4yNjY2MjNy7d+9uA7DYwMBAf38/GkWjUdao120zsVgsmUzSBrnq3wjZ7pCC93x8fMybbwJHR0f5fB5l5+bm0OjBgwf3GwAn1L9qUCfk10edrt/V1YVABwcHrFGv22bUp/d6TF1DkxxqPljLLvvw4cPBwUGSg8yoAwv09fV1dHT89NNP/22An3/+uaWlZWhoyCVHaJzFtw4BG5gQQiMyplyC6oFJt2/fRo7/fQ+W+fXXX9va2miGCCG9sgDjZ4f29/cnJiYeP36soqg+jTuEQFeuXGlvb3f56YVNw88O0TrQFdESqXZHy3IBjTuEQIQQhcxt54I5hZ8dYgPTyDMfJorQSMtyAQ06RAj99ttvvb294XDYVZMjB/GzQ8Bm3tjYePHiRaW5vohGHOJeBGJGRonETgkhhc8dUiwsLIyNjQ0PD9epaN91iLuoYteuXaM4bm9v66cWAuIQjcvS0hJztEePHl10FLG+QyqBrl69ioVra2tSxaoJhEMUHSbhdDBE0cjICL3ReZPqOEQPhD03btygIK6vr1PF9PMKZQLhEJAchUJhdXX11atXFCNsqDHpvENc/+WXX6hf169f7+7upqna3NwUgc4TFIcUX758IUjm5uYwiQ6J6sYUHZmAjrunp4eCpQ7/ANfJnq6uLtLrw4cPe3t7UsIMCZZDCrJka2trenoak54/fz4+Pk4yqQ9cy7+I38rMq7OzE6WQbGpqKp1O60cKRgTRIdojAkl9+zYWi2EJvXZvb29HR8fNmzdRB6Xm5+dRB9tYTOKnPkF0qAJyMGXL5/Pqe9zxeHxnZ4crlC2aJ5ecJeh+Au2QYAnikGAWcUgwizgkmEUcEswiDglmEYcEs4hDglnEIcEs4pBgFnFIMIs4JJhFHBLMIg4JZhGHBLOIQ4JZxCHBLOKQYBZxSDCLOCSYRRwSzCIOCWYRhwSziEOCWcQhwSzikGAWcUgwizgkmEUcEszx99//Bw5Ofhxxr2YEAAAAAElFTkSuQmCC\"","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { logout } from '../../redux/actions/authAction';\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\nimport Avatar from '../Avatar';\nimport NotifyModal from '../NotifyModal';\n\nconst Menu = () => {\n  const navLinks = [\n    { label: 'Home', icon: 'home', path: '/' },\n    { label: 'Message', icon: 'near_me', path: '/message' },\n    { label: 'Discover', icon: 'explore', path: '/discover' },\n  ];\n\n  const { auth, theme, notify } = useSelector((state) => state);\n  const dispatch = useDispatch();\n  const { pathname } = useLocation();\n\n  const isActive = (pn) => {\n    if (pn === pathname) return 'active';\n  };\n\n  return (\n    <div className=\"menu\">\n      <ul className=\"navbar-nav flex-row\">\n        {navLinks.map((link, index) => (\n          <li className={`nav-item px-2 ${isActive(link.path)}`} key={index}>\n            <Link className=\"nav-link\" to={link.path}>\n              <span className=\"material-icons\">{link.icon}</span>\n            </Link>\n          </li>\n        ))}\n\n        <li className=\"nav-item dropdown\" style={{ opacity: 1 }}>\n          <span\n            className=\"nav-link position-relative\"\n            id=\"navbarDropdown\"\n            role=\"button\"\n            data-toggle=\"dropdown\"\n            aria-haspopup=\"true\"\n            aria-expanded=\"false\"\n          >\n            <span\n              className=\"material-icons\"\n              style={{ color: notify.data.length > 0 ? 'crimson' : '' }}\n            >\n              favorite\n            </span>\n\n            <span className=\"notify_length\">{notify.data.length}</span>\n          </span>\n\n          <div\n            className=\"dropdown-menu\"\n            aria-labelledby=\"navbarDropdown\"\n            style={{ transform: 'translateX(75px)' }}\n          >\n            <NotifyModal />\n          </div>\n        </li>\n\n        <li className=\"nav-item dropdown\" style={{ opacity: 1 }}>\n          <span\n            className=\"nav-link dropdown-toggle\"\n            id=\"navbarDropdown\"\n            role=\"button\"\n            data-toggle=\"dropdown\"\n            aria-haspopup=\"true\"\n            aria-expanded=\"false\"\n          >\n            <Avatar src={auth.user.avatar} size=\"medium-avatar\" />\n          </span>\n\n          <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n            <Link className=\"dropdown-item\" to={`/profile/${auth.user._id}`}>\n              Profile\n            </Link>\n\n            <label\n              htmlFor=\"theme\"\n              className=\"dropdown-item\"\n              onClick={() =>\n                dispatch({\n                  type: GLOBALTYPES.THEME,\n                  payload: !theme,\n                })\n              }\n            >\n              {theme ? 'Light mode' : 'Dark mode'}\n            </label>\n\n            <div className=\"dropdown-divider\"></div>\n            <Link\n              className=\"dropdown-item\"\n              to=\"/\"\n              onClick={() => dispatch(logout())}\n            >\n              Logout\n            </Link>\n          </div>\n        </li>\n      </ul>\n    </div>\n  );\n};\n\nexport default Menu;\n","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport UserCard from '../UserCard'\nimport LoadIcon from '../../images/loading.gif'\n\nconst Search = () => {\n    const [search, setSearch] = useState('')\n    const [users, setUsers] = useState([])\n\n    const { auth } = useSelector(state => state)\n    const dispatch = useDispatch()\n    const [load, setLoad] = useState(false)\n\n\n    const handleSearch = async (e) => {\n        e.preventDefault()\n        if(!search) return;\n\n        try {\n            setLoad(true)\n            const res = await getDataAPI(`search?username=${search}`, auth.token)\n            setUsers(res.data.users)\n            setLoad(false)\n        } catch (err) {\n            dispatch({\n                type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}\n            })\n        }\n    }\n\n    const handleClose = () => {\n        setSearch('')\n        setUsers([])\n    }\n\n    return (\n        <form className=\"search_form\" onSubmit={handleSearch}>\n            <input type=\"text\" name=\"search\" value={search} id=\"search\" title=\"Enter to Search\"\n            onChange={e => setSearch(e.target.value.toLowerCase().replace(/ /g, ''))} />\n\n            <div className=\"search_icon\" style={{opacity: search ? 0 : 0.3}}>\n                <span className=\"material-icons\">search</span>\n                <span>Enter to Search</span>\n            </div>\n\n            <div className=\"close_search\" onClick={handleClose}\n            style={{opacity: users.length === 0 ? 0 : 1}} >\n                &times;\n            </div>\n\n            <button type=\"submit\" style={{display: 'none'}}>Search</button>\n\n            { load && <img className=\"loading\" src={LoadIcon} alt=\"loading\"  /> }\n\n            <div className=\"users\">\n                {\n                    search && users.map(user => (\n                        <UserCard \n                        key={user._id} \n                        user={user} \n                        border=\"border\"\n                        handleClose={handleClose} \n                        />\n                    ))\n                }\n            </div>\n        </form>\n    )\n}\n\nexport default Search\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Menu from './Menu';\nimport Search from './Search';\n\nconst Header = () => {\n  return (\n    <div className=\"header bg-light\">\n      <nav\n        className=\"navbar navbar-expand-lg navbar-light \n            bg-light justify-content-between align-middle\"\n      >\n        <Link to=\"/\" className=\"logo\">\n          <h1\n            className=\"navbar-brand text-uppercase p-0 m-0\"\n            onClick={() => window.scrollTo({ top: 0 })}\n          >\n            R-Network\n            <p>\n              {' '}\n              E : <b>{process.env.NODE_ENV}</b>\n            </p>\n          </h1>\n        </Link>\n\n        <Search />\n\n        <Menu />\n      </nav>\n    </div>\n  );\n};\n\nexport default Header;\n","import React, { useState, useRef, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { GLOBALTYPES } from '../redux/actions/globalTypes';\nimport { createPost, updatePost } from '../redux/actions/postAction';\nimport Icons from './Icons';\nimport { imageShow, videoShow } from '../utils/mediaShow';\n\nconst StatusModal = () => {\n  const { auth, theme, status, socket } = useSelector((state) => state);\n  const dispatch = useDispatch();\n\n  const [content, setContent] = useState('');\n  const [images, setImages] = useState([]);\n\n  const [stream, setStream] = useState(false);\n  const videoRef = useRef();\n  const refCanvas = useRef();\n  const [tracks, setTracks] = useState('');\n\n  const handleChangeImages = (e) => {\n    const files = [...e.target.files];\n    let err = '';\n    let newImages = [];\n\n    files.forEach((file) => {\n      if (!file) return (err = 'File does not exist.');\n\n      if (file.size > 1024 * 1024 * 200) {\n        return (err = 'The image/video largest is 200mb.');\n      }\n\n      return newImages.push(file);\n    });\n\n    if (err) dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } });\n    setImages([...images, ...newImages]);\n  };\n\n  const deleteImages = (index) => {\n    const newArr = [...images];\n    newArr.splice(index, 1);\n    setImages(newArr);\n  };\n\n  const handleStream = () => {\n    setStream(true);\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n      navigator.mediaDevices\n        .getUserMedia({ video: true })\n        .then((mediaStream) => {\n          videoRef.current.srcObject = mediaStream;\n          videoRef.current.play();\n\n          const track = mediaStream.getTracks();\n          setTracks(track[0]);\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  const handleCapture = () => {\n    const width = videoRef.current.clientWidth;\n    const height = videoRef.current.clientHeight;\n\n    refCanvas.current.setAttribute('width', width);\n    refCanvas.current.setAttribute('height', height);\n\n    const ctx = refCanvas.current.getContext('2d');\n    ctx.drawImage(videoRef.current, 0, 0, width, height);\n    let URL = refCanvas.current.toDataURL();\n    setImages([...images, { camera: URL }]);\n  };\n\n  const handleStopStream = () => {\n    tracks.stop();\n    setStream(false);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (images.length === 0)\n      return dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: { error: 'Please add your photo.' },\n      });\n\n    if (status.onEdit) {\n      dispatch(updatePost({ content, images, auth, status }));\n    } else {\n      dispatch(createPost({ content, images, auth, socket }));\n    }\n\n    setContent('');\n    setImages([]);\n    if (tracks) tracks.stop();\n    dispatch({ type: GLOBALTYPES.STATUS, payload: false });\n  };\n\n  useEffect(() => {\n    if (status.onEdit) {\n      setContent(status.content);\n      setImages(status.images);\n    }\n  }, [status]);\n\n  return (\n    <div className=\"status_modal\">\n      <form onSubmit={handleSubmit}>\n        <div className=\"status_header\">\n          <h5 className=\"m-0\">Create Post</h5>\n          <span\n            onClick={() =>\n              dispatch({\n                type: GLOBALTYPES.STATUS,\n                payload: false,\n              })\n            }\n          >\n            &times;\n          </span>\n        </div>\n\n        <div className=\"status_body\">\n          <textarea\n            name=\"content\"\n            value={content}\n            placeholder={`${auth.user.username}, what are you thinking?`}\n            onChange={(e) => setContent(e.target.value)}\n            style={{\n              filter: theme ? 'invert(1)' : 'invert(0)',\n              color: theme ? 'white' : '#111',\n              background: theme ? 'rgba(0,0,0,.03)' : '',\n            }}\n          />\n\n          <div className=\"d-flex\">\n            <div className=\"flex-fill\"></div>\n            <Icons setContent={setContent} content={content} theme={theme} />\n          </div>\n\n          <div className=\"show_images\">\n            {images.map((img, index) => (\n              <div key={index} id=\"file_img\">\n                {img.camera ? (\n                  imageShow(img.camera, theme)\n                ) : img.url ? (\n                  <>\n                    {img.url.match(/video/i)\n                      ? videoShow(img.url, theme)\n                      : imageShow(img.url, theme)}\n                  </>\n                ) : (\n                  <>\n                    {img.type.match(/video/i)\n                      ? videoShow(URL.createObjectURL(img), theme)\n                      : imageShow(URL.createObjectURL(img), theme)}\n                  </>\n                )}\n                <span onClick={() => deleteImages(index)}>&times;</span>\n              </div>\n            ))}\n          </div>\n\n          {stream && (\n            <div className=\"stream position-relative\">\n              <video\n                autoPlay\n                muted\n                ref={videoRef}\n                width=\"100%\"\n                height=\"100%\"\n                style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\n              />\n\n              <span onClick={handleStopStream}>&times;</span>\n              <canvas ref={refCanvas} style={{ display: 'none' }} />\n            </div>\n          )}\n\n          <div className=\"input_images\">\n            {stream ? (\n              <i className=\"fas fa-camera\" onClick={handleCapture} />\n            ) : (\n              <>\n                <i className=\"fas fa-camera\" onClick={handleStream} />\n\n                <div className=\"file_upload\">\n                  <i className=\"fas fa-image\" />\n                  <input\n                    type=\"file\"\n                    name=\"file\"\n                    id=\"file\"\n                    multiple\n                    accept=\"image/*,video/*\"\n                    onChange={handleChangeImages}\n                  />\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n\n        <div className=\"status_footer\">\n          <button className=\"btn btn-secondary w-100\" type=\"submit\">\n            Post\n          </button>\n        </div>\n      </form>\n    </div>\n  );\n};\n\nexport default StatusModal;\n","export default __webpack_public_path__ + \"static/media/got-it-done-613.89a311f0.mp3\";","import React, { useEffect, useRef } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { POST_TYPES } from './redux/actions/postAction'\nimport { GLOBALTYPES } from './redux/actions/globalTypes'\nimport { NOTIFY_TYPES } from './redux/actions/notifyAction'\nimport { MESS_TYPES } from './redux/actions/messageAction'\n\nimport audiobell from './audio/got-it-done-613.mp3'\n\n\nconst spawnNotification = (body, icon, url, title) => {\n    let options = {\n        body, icon\n    }\n    let n = new Notification(title, options)\n\n    n.onclick = e => {\n        e.preventDefault()\n        window.open(url, '_blank')\n    }\n}\n\nconst SocketClient = () => {\n    const { auth, socket, notify, online, call } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const audioRef = useRef()\n\n    // joinUser\n    useEffect(() => {\n        socket.emit('joinUser', auth.user)\n    },[socket, auth.user])\n\n    // Likes\n    useEffect(() => {\n        socket.on('likeToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('likeToClient')\n    },[socket, dispatch])\n\n    useEffect(() => {\n        socket.on('unLikeToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('unLikeToClient')\n    },[socket, dispatch])\n\n\n    // Comments\n    useEffect(() => {\n        socket.on('createCommentToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('createCommentToClient')\n    },[socket, dispatch])\n\n    useEffect(() => {\n        socket.on('deleteCommentToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('deleteCommentToClient')\n    },[socket, dispatch])\n\n\n    // Follow\n    useEffect(() => {\n        socket.on('followToClient', newUser =>{\n            dispatch({type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\n        })\n\n        return () => socket.off('followToClient')\n    },[socket, dispatch, auth])\n\n    useEffect(() => {\n        socket.on('unFollowToClient', newUser =>{\n            dispatch({type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\n        })\n\n        return () => socket.off('unFollowToClient')\n    },[socket, dispatch, auth])\n\n\n    // Notification\n    useEffect(() => {\n        socket.on('createNotifyToClient', msg =>{\n            dispatch({type: NOTIFY_TYPES.CREATE_NOTIFY, payload: msg})\n\n            if(notify.sound) audioRef.current.play()\n            spawnNotification(\n                msg.user.username + ' ' + msg.text,\n                msg.user.avatar,\n                msg.url,\n                'V-NETWORK'\n            )\n        })\n\n        return () => socket.off('createNotifyToClient')\n    },[socket, dispatch, notify.sound])\n\n    useEffect(() => {\n        socket.on('removeNotifyToClient', msg =>{\n            dispatch({type: NOTIFY_TYPES.REMOVE_NOTIFY, payload: msg})\n        })\n\n        return () => socket.off('removeNotifyToClient')\n    },[socket, dispatch])\n\n\n    // Message\n    useEffect(() => {\n        socket.on('addMessageToClient', msg =>{\n            dispatch({type: MESS_TYPES.ADD_MESSAGE, payload: msg})\n\n            dispatch({\n                type: MESS_TYPES.ADD_USER, \n                payload: {\n                    ...msg.user, \n                    text: msg.text, \n                    media: msg.media\n                }\n            })\n        })\n\n        return () => socket.off('addMessageToClient')\n    },[socket, dispatch])\n\n    // Check User Online / Offline\n    useEffect(() => {\n        socket.emit('checkUserOnline', auth.user)\n    },[socket, auth.user])\n\n    useEffect(() => {\n        socket.on('checkUserOnlineToMe', data =>{\n            data.forEach(item => {\n                if(!online.includes(item.id)){\n                    dispatch({type: GLOBALTYPES.ONLINE, payload: item.id})\n                }\n            })\n        })\n\n        return () => socket.off('checkUserOnlineToMe')\n    },[socket, dispatch, online])\n\n    useEffect(() => {\n        socket.on('checkUserOnlineToClient', id =>{\n            if(!online.includes(id)){\n                dispatch({type: GLOBALTYPES.ONLINE, payload: id})\n            }\n        })\n\n        return () => socket.off('checkUserOnlineToClient')\n    },[socket, dispatch, online])\n\n    // Check User Offline\n    useEffect(() => {\n        socket.on('CheckUserOffline', id =>{\n            dispatch({type: GLOBALTYPES.OFFLINE, payload: id})\n        })\n\n        return () => socket.off('CheckUserOffline')\n    },[socket, dispatch])\n\n\n    // Call User\n    useEffect(() => {\n        socket.on('callUserToClient', data =>{\n            dispatch({type: GLOBALTYPES.CALL, payload: data})\n        })\n\n        return () => socket.off('callUserToClient')\n    },[socket, dispatch])\n\n    useEffect(() => {\n        socket.on('userBusy', data =>{\n            dispatch({type: GLOBALTYPES.ALERT, payload: {error: `${call.username} is busy!`}})\n        })\n\n        return () => socket.off('userBusy')\n    },[socket, dispatch, call])\n\n\n\n    return (\n        <>\n            <audio controls ref={audioRef} style={{display: 'none'}} >\n                <source src={audiobell} type=\"audio/mp3\" />\n            </audio>\n        </>\n    )\n}\n\nexport default SocketClient\n","export default __webpack_public_path__ + \"static/media/ringring.278d7816.mp3\";","import React, { useState, useEffect, useRef, useCallback } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport Avatar from '../Avatar'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport { addMessage } from '../../redux/actions/messageAction'\nimport RingRing from '../../audio/ringring.mp3'\n\nconst CallModal = () => {\n    const { call, auth, peer, socket, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [hours, setHours] = useState(0)\n    const [mins, setMins] = useState(0)\n    const [second, setSecond] = useState(0)\n    const [total, setTotal] = useState(0)\n\n    const [answer, setAnswer] = useState(false)\n    const youVideo = useRef()\n    const otherVideo = useRef()\n    const [tracks, setTracks] = useState(null)\n    const [newCall, setNewCall] = useState(null)\n\n    // Set Time\n    useEffect(() => {\n        const setTime = () => {\n            setTotal(t => t + 1)\n            setTimeout(setTime, 1000)\n        }\n        setTime()\n\n        return () => setTotal(0)\n    },[])\n\n    useEffect(() => {\n        setSecond(total%60)\n        setMins(parseInt(total/60))\n        setHours(parseInt(total/3600))\n    },[total])\n\n\n    // End Call\n    const addCallMessage = useCallback((call, times, disconnect) => {\n        if(call.recipient !== auth.user._id || disconnect){\n            const msg = {\n                sender: call.sender,\n                recipient: call.recipient,\n                text: '', \n                media: [],\n                call: {video: call.video, times},\n                createdAt: new Date().toISOString()\n            }\n            dispatch(addMessage({msg, auth, socket}))\n        }\n    },[auth, dispatch, socket])\n\n    const handleEndCall = () => {\n        tracks && tracks.forEach(track => track.stop())\n        if(newCall) newCall.close()\n        let times = answer ? total : 0\n        socket.emit('endCall', {...call, times})\n        \n        addCallMessage(call, times)\n        dispatch({type: GLOBALTYPES.CALL, payload: null })\n    }\n\n    useEffect(() => {\n        if(answer){\n            setTotal(0)\n        }else{\n            const timer = setTimeout(() => {\n                socket.emit('endCall', {...call, times: 0})\n                addCallMessage(call, 0)\n                dispatch({type: GLOBALTYPES.CALL, payload: null })\n            }, 15000)\n    \n            return () => clearTimeout(timer)\n        }\n        \n    },[dispatch, answer, call, socket, addCallMessage])\n\n    useEffect(() => {\n        socket.on('endCallToClient', data => {\n            tracks && tracks.forEach(track => track.stop())\n            if(newCall) newCall.close()\n            addCallMessage(data, data.times)\n            dispatch({ type: GLOBALTYPES.CALL, payload: null })\n        })\n\n        return () => socket.off('endCallToClient')\n    },[socket, dispatch, tracks, addCallMessage, newCall])\n\n\n    // Stream Media\n    const openStream = (video) => {\n        const config = { audio: true, video }\n        return navigator.mediaDevices.getUserMedia(config)\n    }\n\n    const playStream = (tag, stream) => {\n        let video = tag;\n        video.srcObject = stream;\n        video.play()\n    }\n\n    // Answer Call\n    const handleAnswer = () => {\n        openStream(call.video).then(stream => {\n            playStream(youVideo.current, stream)\n            const track = stream.getTracks()\n            setTracks(track)\n            \n            const newCall = peer.call(call.peerId, stream);\n            newCall.on('stream', function(remoteStream) {\n                playStream(otherVideo.current, remoteStream)\n            });\n            setAnswer(true)\n            setNewCall(newCall)\n        })\n    }\n\n    useEffect(() => {\n        peer.on('call', newCall => {\n            openStream(call.video).then(stream => {\n                if(youVideo.current){\n                    playStream(youVideo.current, stream)\n                }\n                const track = stream.getTracks()\n                setTracks(track)\n                \n                newCall.answer(stream)\n                newCall.on('stream', function(remoteStream) {\n                    if(otherVideo.current){\n                        playStream(otherVideo.current, remoteStream)\n                    }\n                });\n                setAnswer(true) \n                setNewCall(newCall)\n            })\n        })\n        return () => peer.removeListener('call')\n    },[peer, call.video])\n\n    // Disconnect\n    useEffect(() => {\n        socket.on('callerDisconnect', () => {\n            tracks && tracks.forEach(track => track.stop())\n            if(newCall) newCall.close()\n            let times = answer ? total : 0\n            addCallMessage(call, times, true)\n\n            dispatch({type: GLOBALTYPES.CALL, payload: null })\n\n            dispatch({\n                type: GLOBALTYPES.ALERT, \n                payload: {error: `The ${call.username} disconnect`} \n            })\n        })\n\n        return () => socket.off('callerDisconnect')\n    },[socket, tracks, dispatch, call, addCallMessage, answer, total, newCall])\n\n    // Play - Pause Audio\n    const playAudio = (newAudio) => {\n        newAudio.play()\n    }\n\n    const pauseAudio = (newAudio) => {\n        newAudio.pause()\n        newAudio.currentTime = 0\n    }\n\n    useEffect(() => {\n        let newAudio = new Audio(RingRing)\n        if(answer){\n            pauseAudio(newAudio)\n        }else{\n            playAudio(newAudio)\n        }\n\n        return () => pauseAudio(newAudio)\n    },[answer])\n\n\n    return (\n        <div className=\"call_modal\">\n            <div className=\"call_box\" style={{\n                display: (answer && call.video) ? 'none' : 'flex'\n            }} >\n\n                <div className=\"text-center\" style={{padding: '40px 0'}} >\n                    <Avatar src={call.avatar} size=\"supper-avatar\" />\n                    <h4>{call.username}</h4>\n                    <h6>{call.fullname}</h6>\n\n                    {\n                        answer \n                        ? <div>\n                            <span>{ hours.toString().length < 2 ? '0' + hours : hours }</span>\n                            <span>:</span>\n                            <span>{ mins.toString().length < 2 ? '0' + mins : mins }</span>\n                            <span>:</span>\n                            <span>{ second.toString().length < 2 ? '0' + second : second }</span>\n                        </div>\n                        : <div>\n                            {\n                                call.video\n                                ? <span>calling video...</span>\n                                : <span>calling audio...</span>\n                            }\n                        </div>\n                    }\n                    \n                </div>\n                \n                {\n                    !answer && \n                    <div className=\"timer\">\n                        <small>{ mins.toString().length < 2 ? '0' + mins : mins }</small>\n                        <small>:</small>\n                        <small>{ second.toString().length < 2 ? '0' + second : second }</small>\n                    </div>\n                }\n                \n\n                <div className=\"call_menu\">\n                    <button className=\"material-icons text-danger\"\n                    onClick={handleEndCall}>\n                        call_end\n                    </button>\n                    \n                    {\n                        (call.recipient === auth.user._id && !answer) &&\n                        <>\n                            {\n                                call.video\n                                ? <button className=\"material-icons text-success\"\n                                onClick={handleAnswer}>\n                                    videocam\n                                </button>\n                                : <button className=\"material-icons text-success\"\n                                onClick={handleAnswer}>\n                                    call\n                                </button>\n                            }\n                        </>\n                    }\n                    \n                </div>\n                \n            </div>\n\n            <div className=\"show_video\" style={{\n                opacity: (answer && call.video) ? '1' : '0',\n                filter: theme ? 'invert(1)' : 'invert(0)'\n            }} >\n\n                <video ref={youVideo} className=\"you_video\" playsInline muted />\n                <video ref={otherVideo} className=\"other_video\" playsInline />\n\n                <div className=\"time_video\">\n                    <span>{ hours.toString().length < 2 ? '0' + hours : hours }</span>\n                    <span>:</span>\n                    <span>{ mins.toString().length < 2 ? '0' + mins : mins }</span>\n                    <span>:</span>\n                    <span>{ second.toString().length < 2 ? '0' + second : second }</span>\n                </div>\n\n                <button className=\"material-icons text-danger end_call\"\n                onClick={handleEndCall}>\n                    call_end\n                </button>\n\n            </div>\n\n        </div>\n    )\n}\n\nexport default CallModal\n","import { useEffect } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nimport PageRender from './customRouter/PageRender';\nimport PrivateRouter from './customRouter/PrivateRouter';\n\nimport Home from './pages/home';\nimport Login from './pages/login';\nimport Register from './pages/register';\n\nimport Alert from './components/alert/Alert';\nimport Header from './components/header/Header';\nimport StatusModal from './components/StatusModal';\n\nimport { useSelector, useDispatch } from 'react-redux';\nimport { refreshToken } from './redux/actions/authAction';\nimport { getPosts } from './redux/actions/postAction';\nimport { getSuggestions } from './redux/actions/suggestionsAction';\n\nimport io from 'socket.io-client';\nimport { GLOBALTYPES } from './redux/actions/globalTypes';\nimport SocketClient from './SocketClient';\n\nimport { getNotifies } from './redux/actions/notifyAction';\nimport CallModal from './components/message/CallModal';\nimport Peer from 'peerjs';\n\nfunction App() {\n  const { auth, status, modal, call } = useSelector((state) => state);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    dispatch(refreshToken());\n\n    const socket = io();\n    dispatch({ type: GLOBALTYPES.SOCKET, payload: socket });\n    return () => socket.close();\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (auth.token) {\n      dispatch(getPosts(auth.token));\n      dispatch(getSuggestions(auth.token));\n      dispatch(getNotifies(auth.token));\n    }\n  }, [dispatch, auth.token]);\n\n  useEffect(() => {\n    if (!('Notification' in window)) {\n      alert('This browser does not support desktop notification');\n    } else if (Notification.permission === 'granted') {\n    } else if (Notification.permission !== 'denied') {\n      Notification.requestPermission().then(function (permission) {\n        if (permission === 'granted') {\n        }\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    const newPeer = new Peer(undefined, {\n      path: '/',\n      secure: true,\n    });\n\n    dispatch({ type: GLOBALTYPES.PEER, payload: newPeer });\n  }, [dispatch]);\n\n  return (\n    <Router>\n      <Alert />\n\n      <input type=\"checkbox\" id=\"theme\" />\n      <div className={`App ${(status || modal) && 'mode'}`}>\n        <div className=\"main\">\n          {auth.token && <Header />}\n          {status && <StatusModal />}\n          {auth.token && <SocketClient />}\n          {call && <CallModal />}\n\n          <Route exact path=\"/\" component={auth.token ? Home : Login} />\n          <Route exact path=\"/register\" component={Register} />\n\n          <PrivateRouter exact path=\"/:page\" component={PageRender} />\n          <PrivateRouter exact path=\"/:page/:id\" component={PageRender} />\n        </div>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { GLOBALTYPES } from '../actions/globalTypes'\n\nconst initialState = {}\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type){\n        case GLOBALTYPES.AUTH:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default authReducer","import { GLOBALTYPES } from '../actions/globalTypes'\n\nconst initialState = {}\n\nconst alertReducer = (state = initialState, action) => {\n    switch (action.type){\n        case GLOBALTYPES.ALERT:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default alertReducer\n","import { GLOBALTYPES } from '../actions/globalTypes'\n\nconst initialState = false\n\nconst themeReducer = (state = initialState, action) => {\n    switch (action.type){\n        case GLOBALTYPES.THEME:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default themeReducer","import { PROFILE_TYPES } from '../actions/profileAction'\nimport { EditData } from '../actions/globalTypes'\n\nconst initialState = {\n    loading: false,\n    ids: [],\n    users: [],\n    posts: []\n}\n\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type){\n        case PROFILE_TYPES.LOADING:\n            return {\n                ...state,\n                loading: action.payload\n            };\n        case PROFILE_TYPES.GET_USER:\n            return {\n                ...state,\n                users: [...state.users, action.payload.user]\n            };\n        case PROFILE_TYPES.FOLLOW:\n            return {\n                ...state,\n                users: EditData(state.users, action.payload._id, action.payload)\n            };\n        case PROFILE_TYPES.UNFOLLOW:\n            return {\n                ...state,\n                users: EditData(state.users, action.payload._id, action.payload)\n            };\n        case PROFILE_TYPES.GET_ID:\n            return {\n                ...state,\n                ids: [...state.ids, action.payload]\n            };\n        case PROFILE_TYPES.GET_POSTS:\n            return {\n                ...state,\n                posts: [...state.posts, action.payload]\n            };\n        case PROFILE_TYPES.UPDATE_POST:\n            return {\n                ...state,\n                posts: EditData(state.posts, action.payload._id, action.payload)\n            };\n        default:\n            return state;\n    }\n}\n\nexport default profileReducer","import { GLOBALTYPES } from '../actions/globalTypes'\n\n\nconst statusReducer = (state = false, action) => {\n    switch (action.type){\n        case GLOBALTYPES.STATUS:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default statusReducer","import { POST_TYPES } from '../actions/postAction'\nimport { EditData, DeleteData } from '../actions/globalTypes'\n\nconst initialState = {\n    loading: false,\n    posts: [],\n    result: 0,\n    page: 2\n}\n\nconst postReducer = (state = initialState, action) => {\n    switch (action.type){\n        case POST_TYPES.CREATE_POST:\n            return {\n                ...state,\n                posts: [action.payload, ...state.posts]\n            };\n        case POST_TYPES.LOADING_POST:\n            return {\n                ...state,\n                loading: action.payload\n            };\n        case POST_TYPES.GET_POSTS:\n            return {\n                ...state,\n                posts: action.payload.posts,\n                result: action.payload.result,\n                page: action.payload.page\n            };\n        case POST_TYPES.UPDATE_POST:\n            return {\n                ...state,\n                posts: EditData(state.posts, action.payload._id, action.payload)\n            };\n        case POST_TYPES.DELETE_POST:\n            return {\n                ...state,\n                posts: DeleteData(state.posts, action.payload._id)\n            };\n        default:\n            return state;\n    }\n}\n\nexport default postReducer","import { GLOBALTYPES } from '../actions/globalTypes'\n\nconst initialState = false\n\nconst modalReducer = (state = initialState, action) => {\n    switch (action.type){\n        case GLOBALTYPES.MODAL:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default modalReducer","import { POST_TYPES } from '../actions/postAction'\nimport { EditData } from '../actions/globalTypes'\n\nconst detailPostReducer = (state = [], action) => {\n    switch (action.type){\n        case POST_TYPES.GET_POST:\n            return [...state, action.payload]\n        case POST_TYPES.UPDATE_POST:\n            return EditData(state, action.payload._id, action.payload)\n        default:\n            return state;\n    }\n}\n\n\nexport default detailPostReducer","import { DISCOVER_TYPES } from '../actions/discoverAction'\n\nconst initialState = {\n    loading: false,\n    posts: [],\n    result: 9,\n    page: 2,\n    firstLoad: false\n}\n\nconst discoverReducer = (state = initialState, action) => {\n    switch (action.type){\n        case DISCOVER_TYPES.LOADING:\n            return {\n                ...state,\n                loading: action.payload\n            };\n        case DISCOVER_TYPES.GET_POSTS:\n            return {\n                ...state,\n                posts: action.payload.posts,\n                result: action.payload.result,\n                firstLoad: true\n            };\n        case DISCOVER_TYPES.UPDATE_POST:\n            return {\n                ...state,\n                posts: action.payload.posts,\n                result: action.payload.result,\n                page: state.page + 1\n            };\n        default:\n            return state;\n    }\n}\n\nexport default discoverReducer\n","import { SUGGES_TYPES } from '../actions/suggestionsAction'\n\nconst initialState = {\n    loading: false,\n    users: []\n}\n\n\nconst suggestionsReducer = (state = initialState, action) => {\n    switch (action.type){\n        case SUGGES_TYPES.LOADING:\n            return {\n                ...state,\n                loading: action.payload\n            };\n        case SUGGES_TYPES.GET_USERS:\n            return {\n                ...state,\n                users: action.payload.users\n            };\n        default:\n            return state;\n    }\n}\n\nexport default suggestionsReducer\n","import { GLOBALTYPES } from '../actions/globalTypes'\n\n\nconst socketReducer = (state = [], action) => {\n    switch (action.type){\n        case GLOBALTYPES.SOCKET:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default socketReducer","import { NOTIFY_TYPES } from '../actions/notifyAction'\nimport { EditData } from '../actions/globalTypes'\n\nconst initialState = {\n    loading: false,\n    data: [],\n    sound: false\n}\n\nconst notifyReducer = (state = initialState, action) => {\n    switch (action.type){\n        case NOTIFY_TYPES.GET_NOTIFIES:\n            return {\n                ...state,\n                data: action.payload\n            };\n        case NOTIFY_TYPES.CREATE_NOTIFY:\n            return {\n                ...state,\n                data: [action.payload, ...state.data]\n            };\n        case NOTIFY_TYPES.REMOVE_NOTIFY:\n            return {\n                ...state,\n                data: state.data.filter(item => (\n                    item.id !== action.payload.id || item.url !== action.payload.url\n                ))\n            };\n        case NOTIFY_TYPES.UPDATE_NOTIFY:\n            return {\n                ...state,\n                data: EditData(state.data, action.payload._id, action.payload)\n            };\n        case NOTIFY_TYPES.UPDATE_SOUND:\n            return {\n                ...state,\n                sound: action.payload\n            };\n        case NOTIFY_TYPES.DELETE_ALL_NOTIFIES:\n            return {\n                ...state,\n                data: action.payload\n            };\n        default:\n            return state;\n    }\n}\n\n\nexport default notifyReducer","import { MESS_TYPES } from '../actions/messageAction'\nimport { EditData, DeleteData } from '../actions/globalTypes'\n\nconst initialState = {\n    users: [],\n    resultUsers: 0,\n    data: [],\n    firstLoad: false\n}\n\nconst messageReducer = (state = initialState, action) => {\n    switch (action.type){\n        case MESS_TYPES.ADD_USER:\n            if(state.users.every(item => item._id !== action.payload._id)){\n                return {\n                    ...state,\n                    users: [action.payload, ...state.users]\n                };\n            }\n            return state;\n        case MESS_TYPES.ADD_MESSAGE:\n            return {\n                ...state,\n                data: state.data.map(item => \n                    item._id === action.payload.recipient || item._id === action.payload.sender \n                    ? {\n                        ...item,\n                        messages: [...item.messages, action.payload],\n                        result: item.result + 1\n                    }\n                    : item\n                ),\n                users: state.users.map(user => \n                    user._id === action.payload.recipient || user._id === action.payload.sender\n                    ? {\n                        ...user, \n                        text: action.payload.text, \n                        media: action.payload.media,\n                        call: action.payload.call\n                    }\n                    : user\n                )\n            };\n        case MESS_TYPES.GET_CONVERSATIONS:\n            return {\n                ...state,\n                users: action.payload.newArr,\n                resultUsers: action.payload.result,\n                firstLoad: true\n            };\n        case MESS_TYPES.GET_MESSAGES:\n            return {\n                ...state,\n                data: [...state.data, action.payload]\n            };\n        case MESS_TYPES.UPDATE_MESSAGES:\n            return {\n                ...state,\n                data: EditData(state.data, action.payload._id, action.payload)\n            };\n        case MESS_TYPES.DELETE_MESSAGES:\n            return {\n                ...state,\n                data: state.data.map(item => \n                    item._id === action.payload._id\n                    ? {...item, messages: action.payload.newData}\n                    : item\n                )\n            };\n        case MESS_TYPES.DELETE_CONVERSATION:\n            return {\n                ...state,\n                users: DeleteData(state.users, action.payload),\n                data: DeleteData(state.data, action.payload)\n            };\n        case MESS_TYPES.CHECK_ONLINE_OFFLINE:\n            return {\n                ...state,\n                users: state.users.map(user => \n                    action.payload.includes(user._id)\n                    ? {...user, online: true}\n                    : {...user, online: false}\n                )\n            };\n        default:\n            return state;\n    }\n}\n\nexport default messageReducer;","import { GLOBALTYPES } from '../actions/globalTypes'\n\n\nconst onlineReducer = (state = [], action) => {\n    switch (action.type){\n        case GLOBALTYPES.ONLINE:\n            return [...state, action.payload];\n        case GLOBALTYPES.OFFLINE:\n            return state.filter(item => item !== action.payload)\n        default:\n            return state;\n    }\n}\n\n\nexport default onlineReducer","import { GLOBALTYPES } from '../actions/globalTypes'\n\n\nconst callReducer = (state = null, action) => {\n    switch (action.type){\n        case GLOBALTYPES.CALL:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default callReducer","import { GLOBALTYPES } from '../actions/globalTypes'\n\n\nconst peerReducer = (state = null, action) => {\n    switch (action.type){\n        case GLOBALTYPES.PEER:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default peerReducer","import { combineReducers } from 'redux'\nimport auth from './authReducer'\nimport alert from './alertReducer'\nimport theme from './themeReducer'\nimport profile from './profileReducer'\nimport status from './statusReducer'\nimport homePosts from './postReducer'\nimport modal from './modalReducer'\nimport detailPost from './detailPostReducer'\nimport discover from './discoverReducer'\nimport suggestions from './suggestionsReducer'\nimport socket from './socketReducer'\nimport notify from './notifyReducer'\nimport message from './messageReducer'\nimport online from './onlineReducer'\nimport call from './callReducer'\nimport peer from './peerReducer'\n\n\nexport default combineReducers({\n    auth,\n    alert,\n    theme,\n    profile,\n    status,\n    homePosts,\n    modal,\n    detailPost,\n    discover,\n    suggestions,\n    socket,\n    notify,\n    message,\n    online,\n    call,\n    peer\n})","import { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport thunk from 'redux-thunk'\n\nimport rootReducer from './reducers/index'\n\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nconst store = createStore(\n    rootReducer,\n    composeWithDevTools(applyMiddleware(thunk))\n)\n\nconst DataProvider = ({children}) => {\n    return(\n        <Provider store={store}>\n            {children}\n        </Provider>\n    )\n}\n\nexport default DataProvider","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/global.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport DataProvider from './redux/store'\n\nReactDOM.render(\n  <React.StrictMode>\n    <DataProvider>\n      <App />\n    </DataProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { GLOBALTYPES, DeleteData } from '../actions/globalTypes'\nimport { postDataAPI, getDataAPI, deleteDataAPI } from '../../utils/fetchData'\n\nexport const MESS_TYPES = {\n    ADD_USER: 'ADD_USER',\n    ADD_MESSAGE: 'ADD_MESSAGE',\n    GET_CONVERSATIONS: 'GET_CONVERSATIONS',\n    GET_MESSAGES: 'GET_MESSAGES',\n    UPDATE_MESSAGES: 'UPDATE_MESSAGES',\n    DELETE_MESSAGES: 'DELETE_MESSAGES',\n    DELETE_CONVERSATION: 'DELETE_CONVERSATION',\n    CHECK_ONLINE_OFFLINE: 'CHECK_ONLINE_OFFLINE'\n}\n\n\n\nexport const addMessage = ({msg, auth, socket}) => async (dispatch) =>{\n    dispatch({type: MESS_TYPES.ADD_MESSAGE, payload: msg})\n\n    const { _id, avatar, fullname, username } = auth.user\n    socket.emit('addMessage', {...msg, user: { _id, avatar, fullname, username } })\n    \n    try {\n        await postDataAPI('message', msg, auth.token)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const getConversations = ({auth, page = 1}) => async (dispatch) => {\n    try {\n        const res = await getDataAPI(`conversations?limit=${page * 9}`, auth.token)\n        \n        let newArr = [];\n        res.data.conversations.forEach(item => {\n            item.recipients.forEach(cv => {\n                if(cv._id !== auth.user._id){\n                    newArr.push({...cv, text: item.text, media: item.media, call: item.call})\n                }\n            })\n        })\n\n        dispatch({\n            type: MESS_TYPES.GET_CONVERSATIONS, \n            payload: {newArr, result: res.data.result}\n        })\n\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const getMessages = ({auth, id, page = 1}) => async (dispatch) => {\n    try {\n        const res = await getDataAPI(`message/${id}?limit=${page * 9}`, auth.token)\n        const newData = {...res.data, messages: res.data.messages.reverse()}\n\n        dispatch({type: MESS_TYPES.GET_MESSAGES, payload: {...newData, _id: id, page}})\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const loadMoreMessages = ({auth, id, page = 1}) => async (dispatch) => {\n    try {\n        const res = await getDataAPI(`message/${id}?limit=${page * 9}`, auth.token)\n        const newData = {...res.data, messages: res.data.messages.reverse()}\n\n        dispatch({type: MESS_TYPES.UPDATE_MESSAGES, payload: {...newData, _id: id, page}})\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const deleteMessages = ({msg, data, auth}) => async (dispatch) => {\n    const newData = DeleteData(data, msg._id)\n    dispatch({type: MESS_TYPES.DELETE_MESSAGES, payload: {newData, _id: msg.recipient}})\n    try {\n        await deleteDataAPI(`message/${msg._id}`, auth.token)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const deleteConversation = ({auth, id}) => async (dispatch) => {\n    dispatch({type: MESS_TYPES.DELETE_CONVERSATION, payload: id})\n    try {\n        await deleteDataAPI(`conversation/${id}`, auth.token)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}","export default __webpack_public_path__ + \"static/media/loading.10625dac.gif\";","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nconst Avatar = ({ src, size }) => {\n  const { theme } = useSelector((state) => state);\n\n  return (\n    <img\n      src={`/public/images/${src}`}\n      alt=\"avatar\"\n      className={size}\n      style={{ filter: `${theme ? 'invert(1)' : 'invert(0)'}` }}\n    />\n  );\n};\n\nexport default Avatar;\n","import { GLOBALTYPES, DeleteData } from './globalTypes';\nimport { getDataAPI, patchDataAPI } from '../../utils/fetchData';\nimport { imageUpload } from '../../utils/imageUpload';\nimport { createNotify, removeNotify } from '../actions/notifyAction';\n\nexport const PROFILE_TYPES = {\n  LOADING: 'LOADING_PROFILE',\n  GET_USER: 'GET_PROFILE_USER',\n  FOLLOW: 'FOLLOW',\n  UNFOLLOW: 'UNFOLLOW',\n  GET_ID: 'GET_PROFILE_ID',\n  GET_POSTS: 'GET_PROFILE_POSTS',\n  UPDATE_POST: 'UPDATE_PROFILE_POST',\n};\n\nexport const getProfileUsers =\n  ({ id, auth }) =>\n  async (dispatch) => {\n    dispatch({ type: PROFILE_TYPES.GET_ID, payload: id });\n\n    try {\n      dispatch({ type: PROFILE_TYPES.LOADING, payload: true });\n      const res = getDataAPI(`/user/${id}`, auth.token);\n      const res1 = getDataAPI(`/user_posts/${id}`, auth.token);\n\n      const users = await res;\n      const posts = await res1;\n\n      dispatch({\n        type: PROFILE_TYPES.GET_USER,\n        payload: users.data,\n      });\n\n      dispatch({\n        type: PROFILE_TYPES.GET_POSTS,\n        payload: { ...posts.data, _id: id, page: 2 },\n      });\n\n      dispatch({ type: PROFILE_TYPES.LOADING, payload: false });\n    } catch (err) {\n      dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: { error: err.response.data.msg },\n      });\n    }\n  };\n\nexport const updateProfileUser =\n  ({ userData, avatar, auth }) =>\n  async (dispatch) => {\n    if (!userData.fullname)\n      return dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: { error: 'Please add your full name.' },\n      });\n\n    if (userData.fullname.length > 25)\n      return dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: { error: 'Your full name too long.' },\n      });\n\n    if (userData.story.length > 200)\n      return dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: { error: 'Your story too long.' },\n      });\n\n    try {\n      let media;\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\n\n      if (avatar) media = await imageUpload([avatar]);\n\n      const res = await patchDataAPI(\n        'user',\n        {\n          ...userData,\n          avatar: avatar ? media[0].url : auth.user.avatar,\n        },\n        auth.token\n      );\n\n      dispatch({\n        type: GLOBALTYPES.AUTH,\n        payload: {\n          ...auth,\n          user: {\n            ...auth.user,\n            ...userData,\n            avatar: avatar ? media[0].url : auth.user.avatar,\n          },\n        },\n      });\n\n      dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\n    } catch (err) {\n      dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: { error: err.response.data.msg },\n      });\n    }\n  };\n\nexport const follow =\n  ({ users, user, auth, socket }) =>\n  async (dispatch) => {\n    let newUser;\n\n    if (users.every((item) => item._id !== user._id)) {\n      newUser = { ...user, followers: [...user.followers, auth.user] };\n    } else {\n      users.forEach((item) => {\n        if (item._id === user._id) {\n          newUser = { ...item, followers: [...item.followers, auth.user] };\n        }\n      });\n    }\n\n    dispatch({ type: PROFILE_TYPES.FOLLOW, payload: newUser });\n\n    dispatch({\n      type: GLOBALTYPES.AUTH,\n      payload: {\n        ...auth,\n        user: { ...auth.user, following: [...auth.user.following, newUser] },\n      },\n    });\n\n    try {\n      const res = await patchDataAPI(\n        `user/${user._id}/follow`,\n        null,\n        auth.token\n      );\n      socket.emit('follow', res.data.newUser);\n\n      // Notify\n      const msg = {\n        id: auth.user._id,\n        text: 'has started to follow you.',\n        recipients: [newUser._id],\n        url: `/profile/${auth.user._id}`,\n      };\n\n      dispatch(createNotify({ msg, auth, socket }));\n    } catch (err) {\n      dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: { error: err.response.data.msg },\n      });\n    }\n  };\n\nexport const unfollow =\n  ({ users, user, auth, socket }) =>\n  async (dispatch) => {\n    let newUser;\n\n    if (users.every((item) => item._id !== user._id)) {\n      newUser = {\n        ...user,\n        followers: DeleteData(user.followers, auth.user._id),\n      };\n    } else {\n      users.forEach((item) => {\n        if (item._id === user._id) {\n          newUser = {\n            ...item,\n            followers: DeleteData(item.followers, auth.user._id),\n          };\n        }\n      });\n    }\n\n    dispatch({ type: PROFILE_TYPES.UNFOLLOW, payload: newUser });\n\n    dispatch({\n      type: GLOBALTYPES.AUTH,\n      payload: {\n        ...auth,\n        user: {\n          ...auth.user,\n          following: DeleteData(auth.user.following, newUser._id),\n        },\n      },\n    });\n\n    try {\n      const res = await patchDataAPI(\n        `user/${user._id}/unfollow`,\n        null,\n        auth.token\n      );\n      socket.emit('unFollow', res.data.newUser);\n\n      // Notify\n      const msg = {\n        id: auth.user._id,\n        text: 'has started to follow you.',\n        recipients: [newUser._id],\n        url: `/profile/${auth.user._id}`,\n      };\n\n      dispatch(removeNotify({ msg, auth, socket }));\n    } catch (err) {\n      dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: { error: err.response.data.msg },\n      });\n    }\n  };\n","import React from 'react'\nimport Avatar from './Avatar'\nimport { Link } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nconst UserCard = ({children, user, border, handleClose, setShowFollowers, setShowFollowing, msg}) => {\n\n    const { theme } = useSelector(state => state)\n\n    const handleCloseAll = () => {\n        if(handleClose) handleClose()\n        if(setShowFollowers) setShowFollowers(false)\n        if(setShowFollowing) setShowFollowing(false)\n    }\n\n    const showMsg = (user) => {\n        return(\n            <>\n                <div style={{filter: theme ? 'invert(1)' : 'invert(0)'}}>\n                    {user.text}\n                </div>\n                {\n                    user.media.length > 0 && \n                    <div>\n                        {user.media.length} <i className=\"fas fa-image\" />\n                    </div>\n                }\n\n                {\n                    user.call &&\n                    <span className=\"material-icons\">\n                        {\n                            user.call.times === 0\n                            ? user.call.video ? 'videocam_off' : 'phone_disabled'\n                            : user.call.video ? 'video_camera_front' : 'call'\n                        }\n                    </span>\n                }\n            </>\n        )\n    }\n\n\n    return (\n        <div className={`d-flex p-2 align-items-center justify-content-between w-100 ${border}`}>\n            <div>\n                <Link to={`/profile/${user._id}`} onClick={handleCloseAll}\n                className=\"d-flex align-items-center\">\n                    \n                    <Avatar src={user.avatar} size=\"big-avatar\" />\n\n                    <div className=\"ml-1\" style={{transform: 'translateY(-2px)'}}>\n                        <span className=\"d-block\">{user.username}</span>\n                        \n                        <small style={{opacity: 0.7}}>\n                            {\n                                msg \n                                ? showMsg(user)\n                                : user.fullname\n                            }\n                        </small>\n                    </div>\n                </Link>\n            </div>\n            \n            {children}\n        </div>\n    )\n}\n\nexport default UserCard\n","export const GLOBALTYPES = {\n    AUTH: \"AUTH\",\n    ALERT: \"ALERT\",\n    THEME: 'THEME',\n    STATUS: 'STATUS',\n    MODAL: 'MODAL',\n    SOCKET: 'SOCKET',\n    ONLINE: 'ONLINE',\n    OFFLINE: 'OFFLINE',\n    CALL: 'CALL',\n    PEER: 'PEER'\n}\n\nexport const EditData = (data, id, post) => {\n    const newData = data.map(item => \n        (item._id === id ? post : item)\n    )\n    return newData;\n}\n\nexport const DeleteData = (data, id) => {\n    const newData = data.filter(item => item._id !== id)\n    return newData;\n}","import axios from 'axios';\n\nexport const checkImage = (file) => {\n  let err = '';\n  if (!file) return (err = 'File does not exist.');\n\n  if (file.size > 1024 * 1024 * 200)\n    // 10mb\n    err = 'The largest image size is 200mb.';\n\n  if (file.type !== 'image/jpeg' && file.type !== 'image/png')\n    err = 'Image format is incorrect.';\n\n  return err;\n};\n\nexport const imageUpload = async (file) => {\n  let imgArr = [];\n  let fileName = '';\n\n  if (file) {\n    for (const item of file) {\n      const data = new FormData();\n      if (item.type.match(/video/i)) {\n        fileName = Date.now() + 'video ' + item.name;\n      } else {\n        fileName = Date.now() + item.name;\n      }\n\n      data.append('name', fileName);\n      data.append('file', item);\n      try {\n        await axios.post('/api/upload', data);\n        //imgArr.push({ url: res.data.url });\n        imgArr.push({ url: fileName });\n      } catch (err) {}\n      //imgArr.push({ url: 'http://localhost:5000/images/' + fileName });\n    }\n  }\n  return imgArr;\n};\n\nexport const deletefile = (file) => {\n  console.log('file', file);\n  for (const item of file) {\n    // var pathname = new URL(item.url).pathname;\n    // var image = pathname.substring(8);\n    console.log('fileclinte2', item.url);\n    try {\n      axios.delete(`/api/delete/${item.url}`);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n};\n//   console.log('images', images);\n//   let imgArr = [];\n//   for (const item of images) {\n//     const formData = new FormData();\n\n//     if (item.camera) {\n//       formData.append('file', item.camera);\n//     } else {\n//       formData.append('file', item);\n//     }\n\n//     formData.append('upload_preset', 'efxjficn');\n//     formData.append('cloud_name', 'devat-channel');\n\n//     const res = await fetch(\n//       'https://api.cloudinary.com/v1_1/devat-channel/upload',\n//       {\n//         method: 'POST',\n//         body: formData,\n//       }\n//     );\n\n//     const data = await res.json();\n//     imgArr.push({ public_id: data.public_id, url: data.secure_url });\n//   }\n//   console.log('imagessolve', imgArr);\n//   return imgArr;\n\n// };\n","export const imageShow = (src, theme) => {\n  return (\n    <img\n      src={src}\n      alt=\"images\"\n      className=\"img-thumbnail\"\n      style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\n    />\n  );\n};\n\nexport const videoShow = (src, theme) => {\n  return (\n    <video\n      controls\n      src={src}\n      alt=\"images\"\n      className=\"img-thumbnail\"\n      style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\n    />\n  );\n};\n","import React from 'react'\n\nconst LoadMoreBtn = ({result, page, load, handleLoadMore}) => {\n    return (\n        <>\n            {\n                result < 9 * (page - 1) ? '' : \n\n                !load && <button className=\"btn btn-dark mx-auto d-block\"\n                onClick={handleLoadMore}>\n                    Load more\n                </button>\n            }\n            \n        </>\n    )\n}\n\nexport default LoadMoreBtn\n","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { follow, unfollow } from '../redux/actions/profileAction'\n\nconst FollowBtn = ({user}) => {\n    const [followed, setFollowed] = useState(false)\n\n    const { auth, profile, socket } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [load, setLoad] = useState(false)\n\n    useEffect(() => {\n        if(auth.user.following.find(item => item._id === user._id)){\n            setFollowed(true)\n        }\n        return () => setFollowed(false)\n    }, [auth.user.following, user._id])\n\n    const handleFollow =  async () => {\n        if(load) return;\n\n        setFollowed(true)\n        setLoad(true)\n        await dispatch(follow({users: profile.users, user, auth, socket}))\n        setLoad(false)\n    }\n\n    const handleUnFollow = async () => {\n        if(load) return;\n\n        setFollowed(false)\n        setLoad(true)\n        await dispatch(unfollow({users: profile.users, user, auth, socket}))\n        setLoad(false)\n    }\n\n    return (\n        <>\n        {\n            followed\n            ? <button className=\"btn btn-outline-danger\"\n            onClick={handleUnFollow}>\n                UnFollow\n            </button>\n            : <button className=\"btn btn-outline-info\"\n            onClick={handleFollow}>\n                Follow\n            </button>\n        }\n        </>\n    )\n}\n\nexport default FollowBtn\n","const valid = ({fullname, username, email, password, cf_password}) => {\n    const err = {}\n\n    if(!fullname) {\n        err.fullname = \"Please add your full name.\"\n    }else if(fullname.length > 25){\n        err.fullname = \"Full name is up to 25 characters long.\"\n    }\n\n    if(!username) {\n        err.username = \"Please add your user name.\"\n    }else if(username.replace(/ /g, '').length > 25){\n        err.username = \"User name is up to 25 characters long.\"\n    }\n\n    if(!email) {\n        err.email = \"Please add your email.\"\n    }else if(!validateEmail(email)){\n        err.email = \"Email format is incorrect.\"\n    }\n\n    if(!password) {\n        err.password = \"Please add your password.\"\n    }else if(password.length < 6){\n        err.password = \"Password must be at least 6 characters.\"\n    }\n\n    if(password !== cf_password) {\n        err.cf_password = \"Confirm password did not match.\"\n    }\n\n    return {\n        errMsg: err,\n        errLength: Object.keys(err).length\n    }\n}\n\n\n\nfunction validateEmail(email) {\n    // eslint-disable-next-line\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n}\n  \nexport default valid","import { GLOBALTYPES } from './globalTypes'\nimport { postDataAPI } from '../../utils/fetchData'\nimport valid from '../../utils/valid'\n\n\nexport const login = (data) => async (dispatch) => {\n    try {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\n        const res = await postDataAPI('login', data)\n        dispatch({ \n            type: GLOBALTYPES.AUTH, \n            payload: {\n                token: res.data.access_token,\n                user: res.data.user\n            } \n        })\n\n        localStorage.setItem(\"firstLogin\", true)\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                success: res.data.msg\n            } \n        })\n        \n    } catch (err) {\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                error: err.response.data.msg\n            } \n        })\n    }\n}\n\n\nexport const refreshToken = () => async (dispatch) => {\n    const firstLogin = localStorage.getItem(\"firstLogin\")\n    if(firstLogin){\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\n\n        try {\n            const res = await postDataAPI('refresh_token')\n            dispatch({ \n                type: GLOBALTYPES.AUTH, \n                payload: {\n                    token: res.data.access_token,\n                    user: res.data.user\n                } \n            })\n\n            dispatch({ type: GLOBALTYPES.ALERT, payload: {} })\n\n        } catch (err) {\n            dispatch({ \n                type: GLOBALTYPES.ALERT, \n                payload: {\n                    error: err.response.data.msg\n                } \n            })\n        }\n    }\n}\n\nexport const register = (data) => async (dispatch) => {\n    const check = valid(data)\n    if(check.errLength > 0)\n    return dispatch({type: GLOBALTYPES.ALERT, payload: check.errMsg})\n\n    try {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {loading: true}})\n\n        const res = await postDataAPI('register', data)\n        dispatch({ \n            type: GLOBALTYPES.AUTH, \n            payload: {\n                token: res.data.access_token,\n                user: res.data.user\n            } \n        })\n\n        localStorage.setItem(\"firstLogin\", true)\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                success: res.data.msg\n            } \n        })\n    } catch (err) {\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                error: err.response.data.msg\n            } \n        })\n    }\n}\n\n\nexport const logout = () => async (dispatch) => {\n    try {\n        localStorage.removeItem('firstLogin')\n        await postDataAPI('logout')\n        window.location.href = \"/\"\n    } catch (err) {\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                error: err.response.data.msg\n            } \n        })\n    }\n}","import { GLOBALTYPES } from '../actions/globalTypes'\nimport { getDataAPI } from '../../utils/fetchData'\n\nexport const SUGGES_TYPES = {\n    LOADING: 'LOADING_SUGGES',\n    GET_USERS: 'GET_USERS_SUGGES',\n}\n\nexport const getSuggestions = (token) => async (dispatch) => {\n    try {\n        dispatch({ type: SUGGES_TYPES.LOADING, payload: true })\n        \n        const res = await getDataAPI('suggestionsUser', token)\n        dispatch({ type: SUGGES_TYPES.GET_USERS, payload: res.data })\n\n        dispatch({ type: SUGGES_TYPES.LOADING, payload: false })\n        \n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}","import { GLOBALTYPES } from './globalTypes'\nimport { getDataAPI } from '../../utils/fetchData'\n\nexport const DISCOVER_TYPES = {\n    LOADING: 'LOADING_DISCOVER',\n    GET_POSTS: 'GET_DISCOVER_POSTS',\n    UPDATE_POST: 'UPDATE_DISCOVER_POST'\n}\n\nexport const getDiscoverPosts = (token) => async (dispatch) => {\n    try {\n        dispatch({type: DISCOVER_TYPES.LOADING, payload: true})\n\n        const res = await getDataAPI(`post_discover`, token)\n        dispatch({type: DISCOVER_TYPES.GET_POSTS, payload: res.data})\n\n        dispatch({type: DISCOVER_TYPES.LOADING, payload: false})\n\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nconst PostThumb = ({posts, result}) => {\n    const { theme } = useSelector(state => state)\n\n    if(result === 0) return <h2 className=\"text-center text-danger\">No Post</h2>\n\n    return (\n        <div className=\"post_thumb\">\n            {\n                posts.map(post => (\n                    <Link key={post._id} to={`/post/${post._id}`}>\n                        <div className=\"post_thumb_display\">\n\n                            {\n                                post.images[0].url.match(/video/i)\n                                ?<video controls src={post.images[0].url} alt={post.images[0].url}\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n\n                                :<img src={post.images[0].url} alt={post.images[0].url}\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n                            }\n\n                            <div className=\"post_thumb_menu\">\n                                <i className=\"far fa-heart\">{post.likes.length}</i>\n                                <i className=\"far fa-comment\">{post.comments.length}</i>\n                            </div>\n                        </div>\n                    </Link>\n                ))\n            }\n        </div>\n    )\n}\n\nexport default PostThumb\n","import React from 'react'\n\nconst Icons = ({setContent, content, theme}) => {\n    const reactions = [   \n        '❤️', '😆', '😯', '😢', '😡', '👍', '👎', '😄',\n        '😂', '😍', '😘', '😗', '😚', '😳', '😭', '😓',\n        '😤', '🤤', '👻', '💀', '🤐', '😴', '😷', '😵'\n    ]\n\n    return (\n        <div className=\"nav-item dropdown\" \n        style={{ opacity: 1, filter: theme ? 'invert(1)' : 'invert(0)' }}>\n            \n            <span className=\"nav-link position-relative px-1\" id=\"navbarDropdown\" \n            role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                <span style={{opacity: 0.4}}>😄</span>\n            </span>\n\n            <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n                <div className=\"reactions\">\n                    {\n                        reactions.map(icon => (\n                            <span key={icon} onClick={() => setContent(content + icon)}>\n                                {icon}\n                            </span>\n                        ))\n                    }\n                </div>\n            </div>\n                \n        </div>\n    )\n}\n\nexport default Icons\n","import React from 'react'\nimport LeftSide from '../../components/message/LeftSide'\n\nconst Message = () => {\n    return (\n        <div className=\"message d-flex\">\n            <div className=\"col-md-4 border-right px-0\">\n                <LeftSide />\n            </div>\n\n            <div className=\"col-md-8 px-0 right_mess\">\n                <div className=\"d-flex justify-content-center \n                align-items-center flex-column h-100\">\n\n                    <i className=\"fab fa-facebook-messenger text-primary\"\n                    style={{fontSize: '5rem'}} />\n                    <h4>Messenger</h4>\n\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Message\n","import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { login } from '../redux/actions/authAction';\nimport { useDispatch, useSelector } from 'react-redux';\n\nconst Login = () => {\n  const initialState = { email: '', password: '' };\n  const [userData, setUserData] = useState(initialState);\n  const { email, password } = userData;\n\n  const [typePass, setTypePass] = useState(false);\n\n  const { auth } = useSelector((state) => state);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  useEffect(() => {\n    if (auth.token) history.push('/');\n  }, [auth.token, history]);\n\n  const handleChangeInput = (e) => {\n    const { name, value } = e.target;\n    setUserData({ ...userData, [name]: value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(login(userData));\n  };\n\n  return (\n    <div className=\"auth_page\">\n      <form onSubmit={handleSubmit}>\n        <h3 className=\"text-uppercase text-center mb-4\">R-Network</h3>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"exampleInputEmail1\">Email address</label>\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            id=\"exampleInputEmail1\"\n            name=\"email\"\n            aria-describedby=\"emailHelp\"\n            onChange={handleChangeInput}\n            value={email}\n          />\n\n          <small id=\"emailHelp\" className=\"form-text text-muted\">\n            We'll never share your email with anyone else.\n          </small>\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"exampleInputPassword1\">Password</label>\n\n          <div className=\"pass\">\n            <input\n              type={typePass ? 'text' : 'password'}\n              className=\"form-control\"\n              id=\"exampleInputPassword1\"\n              onChange={handleChangeInput}\n              value={password}\n              name=\"password\"\n            />\n\n            <small onClick={() => setTypePass(!typePass)}>\n              {typePass ? 'Hide' : 'Show'}\n            </small>\n          </div>\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"btn btn-dark w-100\"\n          disabled={email && password ? false : true}\n        >\n          Login\n        </button>\n\n        <p className=\"my-2\">\n          You don't have an account?{' '}\n          <Link to=\"/register\" style={{ color: 'crimson' }}>\n            Register Now\n          </Link>\n        </p>\n      </form>\n    </div>\n  );\n};\n\nexport default Login;\n","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory, Link } from 'react-router-dom';\nimport { register } from '../redux/actions/authAction';\n\nconst Register = () => {\n  const { auth, alert } = useSelector((state) => state);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  let avatar = 'male.png';\n\n  const initialState = {\n    fullname: '',\n    username: '',\n    email: '',\n    password: '',\n    cf_password: '',\n    gender: 'male',\n    avatar,\n  };\n  const [userData, setUserData] = useState(initialState);\n  const { fullname, username, email, password, cf_password } = userData;\n\n  const [typePass, setTypePass] = useState(false);\n  const [typeCfPass, setTypeCfPass] = useState(false);\n\n  useEffect(() => {\n    if (auth.token) history.push('/');\n  }, [auth.token, history]);\n\n  const handleChangeInput = (e) => {\n    const { name, value } = e.target;\n    if (name === 'gender') avatar = value + '.png';\n    setUserData({ ...userData, [name]: value, avatar });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(register(userData));\n    console.log('userData', userData);\n  };\n\n  return (\n    <div className=\"auth_page\">\n      <form onSubmit={handleSubmit}>\n        <h3 className=\"text-uppercase text-center mb-4\">R-Network</h3>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"fullname\">Full Name</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"fullname\"\n            name=\"fullname\"\n            onChange={handleChangeInput}\n            value={fullname}\n            style={{ background: `${alert.fullname ? '#fd2d6a14' : ''}` }}\n          />\n\n          <small className=\"form-text text-danger\">\n            {alert.fullname ? alert.fullname : ''}\n          </small>\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"username\">User Name</label>\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            id=\"username\"\n            name=\"username\"\n            onChange={handleChangeInput}\n            value={username.toLowerCase().replace(/ /g, '')}\n            style={{ background: `${alert.username ? '#fd2d6a14' : ''}` }}\n          />\n\n          <small className=\"form-text text-danger\">\n            {alert.username ? alert.username : ''}\n          </small>\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"exampleInputEmail1\">Email address</label>\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            id=\"exampleInputEmail1\"\n            name=\"email\"\n            onChange={handleChangeInput}\n            value={email}\n            style={{ background: `${alert.email ? '#fd2d6a14' : ''}` }}\n          />\n\n          <small className=\"form-text text-danger\">\n            {alert.email ? alert.email : ''}\n          </small>\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"exampleInputPassword1\">Password</label>\n\n          <div className=\"pass\">\n            <input\n              type={typePass ? 'text' : 'password'}\n              className=\"form-control\"\n              id=\"exampleInputPassword1\"\n              onChange={handleChangeInput}\n              value={password}\n              name=\"password\"\n              style={{ background: `${alert.password ? '#fd2d6a14' : ''}` }}\n            />\n\n            <small onClick={() => setTypePass(!typePass)}>\n              {typePass ? 'Hide' : 'Show'}\n            </small>\n          </div>\n\n          <small className=\"form-text text-danger\">\n            {alert.password ? alert.password : ''}\n          </small>\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"cf_password\">Confirm Password</label>\n\n          <div className=\"pass\">\n            <input\n              type={typeCfPass ? 'text' : 'password'}\n              className=\"form-control\"\n              id=\"cf_password\"\n              onChange={handleChangeInput}\n              value={cf_password}\n              name=\"cf_password\"\n              style={{ background: `${alert.cf_password ? '#fd2d6a14' : ''}` }}\n            />\n\n            <small onClick={() => setTypeCfPass(!typeCfPass)}>\n              {typeCfPass ? 'Hide' : 'Show'}\n            </small>\n          </div>\n\n          <small className=\"form-text text-danger\">\n            {alert.cf_password ? alert.cf_password : ''}\n          </small>\n        </div>\n\n        <div className=\"row justify-content-around mx-0 mb-1\">\n          <label htmlFor=\"male\">\n            Male:{' '}\n            <input\n              type=\"radio\"\n              id=\"male\"\n              name=\"gender\"\n              value=\"male\"\n              defaultChecked\n              onChange={handleChangeInput}\n            />\n          </label>\n\n          <label htmlFor=\"female\">\n            Female:{' '}\n            <input\n              type=\"radio\"\n              id=\"female\"\n              name=\"gender\"\n              value=\"female\"\n              onChange={handleChangeInput}\n            />\n          </label>\n        </div>\n\n        <button type=\"submit\" className=\"btn btn-dark w-100\">\n          Register\n        </button>\n\n        <p className=\"my-2\">\n          Already have an account?{' '}\n          <Link to=\"/\" style={{ color: 'crimson' }}>\n            Login Now\n          </Link>\n        </p>\n      </form>\n    </div>\n  );\n};\n\nexport default Register;\n","import React from 'react'\nimport Avatar from '../Avatar'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\n\nconst Status = () => {\n    const { auth } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    return (\n        <div className=\"status my-3 d-flex\">\n            <Avatar src={auth.user.avatar} size=\"big-avatar\" />\n            \n            <button className=\"statusBtn flex-fill\"\n            onClick={() => dispatch({ type: GLOBALTYPES.STATUS, payload: true })}>\n                {auth.user.username}, what are you thinking?\n            </button>\n        </div>\n    )\n}\n\nexport default Status\n","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport PostCard from '../PostCard'\n\nimport LoadIcon from '../../images/loading.gif'\nimport LoadMoreBtn from '../LoadMoreBtn'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { POST_TYPES } from '../../redux/actions/postAction'\n\n\nconst Posts = () => {\n    const { homePosts, auth, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [load, setLoad] = useState(false)\n\n    const handleLoadMore = async () => {\n        setLoad(true)\n        const res = await getDataAPI(`posts?limit=${homePosts.page * 9}`, auth.token)\n\n        dispatch({\n            type: POST_TYPES.GET_POSTS, \n            payload: {...res.data, page: homePosts.page + 1}\n        })\n\n        setLoad(false)\n    }\n\n    return (\n        <div className=\"posts\">\n            {\n                homePosts.posts.map(post => (\n                    <PostCard key={post._id} post={post} theme={theme} />\n                ))\n            }\n\n            {\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n            }\n\n            \n            <LoadMoreBtn result={homePosts.result} page={homePosts.page}\n            load={load} handleLoadMore={handleLoadMore} />\n        </div>\n    )\n}\n\nexport default Posts\n","import React from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport UserCard from '../UserCard';\nimport FollowBtn from '../FollowBtn';\nimport LoadIcon from '../../images/loading.gif';\nimport { getSuggestions } from '../../redux/actions/suggestionsAction';\n\nconst RightSideBar = () => {\n  const { auth, suggestions } = useSelector((state) => state);\n  const dispatch = useDispatch();\n\n  return (\n    <div className=\"mt-3\">\n      <UserCard user={auth.user} />\n\n      <div className=\"d-flex justify-content-between align-items-center my-2\">\n        <h5 className=\"text-danger\">Suggestions for you</h5>\n        {!suggestions.loading && (\n          <i\n            className=\"fas fa-redo\"\n            style={{ cursor: 'pointer' }}\n            onClick={() => dispatch(getSuggestions(auth.token))}\n          />\n        )}\n      </div>\n\n      {suggestions.loading ? (\n        <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\n      ) : (\n        <div className=\"suggestions\">\n          {suggestions.users.map((user) => (\n            <UserCard key={user._id} user={user}>\n              <FollowBtn user={user} />\n            </UserCard>\n          ))}\n        </div>\n      )}\n\n      <div style={{ opacity: 0.5 }} className=\"my-2\">\n        <a\n          href=\"https://www.youtube.com/c/DevATHTML\"\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          style={{ wordBreak: 'break-all' }}\n        >\n          http://eeu.vercel.app/\n        </a>\n        <small className=\"d-block\">Welcome to our channel \"Robel\"</small>\n\n        <small>&copy; 2021 R-NETWORK FROM Robel Gulima</small>\n      </div>\n    </div>\n  );\n};\n\nexport default RightSideBar;\n","import React, { useEffect } from 'react'\n\nimport Status from '../components/home/Status'\nimport Posts from '../components/home/Posts'\nimport RightSideBar from '../components/home/RightSideBar'\n\nimport { useSelector } from 'react-redux'\nimport LoadIcon from '../images/loading.gif'\n\n\nlet scroll = 0;\n\nconst Home = () => {\n    const { homePosts } = useSelector(state => state)\n\n    window.addEventListener('scroll', () => {\n        if(window.location.pathname === '/'){\n            scroll = window.pageYOffset\n            return scroll;\n        }\n    })\n\n    useEffect(() => {\n        setTimeout(() => {\n            window.scrollTo({top: scroll, behavior: 'smooth'})\n        }, 100)\n    },[])\n\n    return (\n        <div className=\"home row mx-0\">\n            <div className=\"col-md-8\">\n                <Status />\n\n                {\n                    homePosts.loading \n                    ? <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n                    : (homePosts.result === 0 && homePosts.posts.length === 0)\n                        ? <h2 className=\"text-center\">No Post</h2>\n                        : <Posts />\n                }\n                \n            </div>\n            \n            <div className=\"col-md-4\">\n                <RightSideBar />\n            </div>\n        </div>\n    )\n}\n\nexport default Home\n","import React, { useState, useEffect, useRef } from 'react'\nimport UserCard from '../UserCard'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { MESS_TYPES, getConversations } from '../../redux/actions/messageAction'\n\n\nconst LeftSide = () => {\n    const { auth, message, online } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [search, setSearch] = useState('')\n    const [searchUsers, setSearchUsers] = useState([])\n\n    const history = useHistory()\n    const { id } = useParams()\n\n    const pageEnd = useRef()\n    const [page, setPage] = useState(0)\n\n    \n    const handleSearch = async e => {\n        e.preventDefault()\n        if(!search) return setSearchUsers([]);\n\n        try {\n            const res = await getDataAPI(`search?username=${search}`, auth.token)\n            setSearchUsers(res.data.users)\n        } catch (err) {\n            dispatch({\n                type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}\n            })\n        }\n    }\n\n    const handleAddUser = (user) => {\n        setSearch('')\n        setSearchUsers([])\n        dispatch({type: MESS_TYPES.ADD_USER, payload: {...user, text: '', media: []}})\n        dispatch({type: MESS_TYPES.CHECK_ONLINE_OFFLINE, payload: online})\n        return history.push(`/message/${user._id}`)\n    }\n\n    const isActive = (user) => {\n        if(id === user._id) return 'active';\n        return ''\n    }\n\n    useEffect(() => {\n        if(message.firstLoad) return;\n        dispatch(getConversations({auth}))\n    },[dispatch, auth, message.firstLoad])\n\n    // Load More\n    useEffect(() => {\n        const observer = new IntersectionObserver(entries => {\n            if(entries[0].isIntersecting){\n                setPage(p => p + 1)\n            }\n        },{\n            threshold: 0.1\n        })\n\n        observer.observe(pageEnd.current)\n    },[setPage])\n\n    useEffect(() => {\n        if(message.resultUsers >= (page - 1) * 9 && page > 1){\n            dispatch(getConversations({auth, page}))\n        }\n    },[message.resultUsers, page, auth, dispatch])\n    \n\n    // Check User Online - Offline\n    useEffect(() => {\n        if(message.firstLoad) {\n            dispatch({type: MESS_TYPES.CHECK_ONLINE_OFFLINE, payload: online})\n        }\n    },[online, message.firstLoad, dispatch])\n\n    return (\n        <>\n            <form className=\"message_header\" onSubmit={handleSearch} >\n                <input type=\"text\" value={search}\n                placeholder=\"Enter to Search...\"\n                onChange={e => setSearch(e.target.value)} />\n\n                <button type=\"submit\" style={{display: 'none'}}>Search</button>\n            </form>\n\n            <div className=\"message_chat_list\">\n                {\n                    searchUsers.length !== 0\n                    ?  <>\n                        {\n                            searchUsers.map(user => (\n                                <div key={user._id} className={`message_user ${isActive(user)}`}\n                                onClick={() => handleAddUser(user)}>\n                                    <UserCard user={user} />\n                                </div>\n                            ))\n                        }\n                        \n                    </>\n                    : <>\n                        {\n                            message.users.map(user => (\n                                <div key={user._id} className={`message_user ${isActive(user)}`}\n                                onClick={() => handleAddUser(user)}>\n                                    <UserCard user={user} msg={true}>\n                                        {\n                                            user.online\n                                            ? <i className=\"fas fa-circle text-success\" />\n                                            : auth.user.following.find(item => \n                                                item._id === user._id\n                                            ) && <i className=\"fas fa-circle\" />\n                                                \n                                        }\n                                        \n                                    </UserCard>\n                                </div>\n                            ))\n                        }\n                    </>\n                }\n               \n               <button ref={pageEnd} style={{opacity: 0}} >Load More</button>\n            </div>\n        </>\n    )\n}\n\nexport default LeftSide\n","export const BASE_URL = 'https://v-network-devat.herokuapp.com'","import React from 'react';\nimport Avatar from '../../Avatar';\nimport { Link, useHistory } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport moment from 'moment';\nimport { GLOBALTYPES } from '../../../redux/actions/globalTypes';\nimport { deletePost } from '../../../redux/actions/postAction';\nimport { BASE_URL } from '../../../utils/config';\n\nconst CardHeader = ({ post }) => {\n  const { auth, socket } = useSelector((state) => state);\n  const dispatch = useDispatch();\n\n  const history = useHistory();\n\n  const handleEditPost = () => {\n    dispatch({ type: GLOBALTYPES.STATUS, payload: { ...post, onEdit: true } });\n  };\n\n  const handleDeletePost = () => {\n    if (window.confirm('Are you sure want to delete this post?')) {\n      dispatch(deletePost({ post, auth, socket }));\n      return history.push('/');\n    }\n  };\n\n  const handleCopyLink = () => {\n    navigator.clipboard.writeText(`${BASE_URL}/post/${post._id}`);\n  };\n\n  return (\n    <div className=\"card_header\">\n      <div className=\"d-flex\">\n        <Avatar src={post.user.avatar} size=\"big-avatar\" />\n\n        <div className=\"card_name\">\n          <h6 className=\"m-0\">\n            <Link to={`/profile/${post.user._id}`} className=\"text-dark\">\n              {post.user.username}\n            </Link>\n          </h6>\n          <small className=\"text-muted\">\n            {moment(post.createdAt).fromNow()}\n          </small>\n        </div>\n      </div>\n\n      <div className=\"nav-item dropdown\">\n        <span className=\"material-icons\" id=\"moreLink\" data-toggle=\"dropdown\">\n          more_horiz\n        </span>\n\n        <div className=\"dropdown-menu\">\n          {auth.user._id === post.user._id && (\n            <>\n              <div className=\"dropdown-item\" onClick={handleEditPost}>\n                <span className=\"material-icons\">create</span> Edit Post\n              </div>\n              <div className=\"dropdown-item\" onClick={handleDeletePost}>\n                <span className=\"material-icons\">delete_outline</span> Remove\n                Post\n              </div>\n            </>\n          )}\n\n          <div className=\"dropdown-item\" onClick={handleCopyLink}>\n            <span className=\"material-icons\">content_copy</span> Copy Link\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CardHeader;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\n\nconst Carousel = ({ images, id }) => {\n  const isActive = (index) => {\n    if (index === 0) return 'active';\n  };\n\n  const { theme } = useSelector((state) => state);\n\n  return (\n    <div id={`image${id}`} className=\"carousel slide\" data-ride=\"carousel\">\n      <ol className=\"carousel-indicators\" style={{ zIndex: 1 }}>\n        {images.map((img, index) => (\n          <li\n            key={index}\n            data-target={`#image${id}`}\n            data-slide-to={index}\n            className={isActive(index)}\n          />\n        ))}\n      </ol>\n\n      <div className=\"carousel-inner\">\n        {images.map((img, index) => (\n          <div key={index} className={`carousel-item ${isActive(index)}`}>\n            {img.url.match(/video/i) ? (\n              // img.url.match(/mp4/i)\n\n              <video\n                controls\n                src={`/public/images/${img.url}`}\n                className=\"d-block w-100\"\n                alt={img.url}\n                style={{\n                  //maxHeight: '500px',\n                  filter: theme ? 'invert(1)' : 'invert(0)',\n                }}\n              />\n            ) : (\n              <img\n                src={`/public/images/${img.url}`}\n                className=\"d-block w-100\"\n                alt={img.url}\n                style={{\n                  //maxHeight: '500px',\n                  filter: theme ? 'invert(1)' : 'invert(0)',\n                }}\n              />\n            )}\n          </div>\n        ))}\n      </div>\n\n      {images.length > 1 && (\n        <>\n          <a\n            className=\"carousel-control-prev\"\n            href={`#image${id}`}\n            role=\"button\"\n            data-slide=\"prev\"\n            style={{ width: '5%' }}\n          >\n            <span\n              className=\"carousel-control-prev-icon\"\n              aria-hidden=\"true\"\n            ></span>\n            <span className=\"sr-only\">Previous</span>\n          </a>\n\n          <a\n            className=\"carousel-control-next\"\n            href={`#image${id}`}\n            role=\"button\"\n            data-slide=\"next\"\n            style={{ width: '5%' }}\n          >\n            <span\n              className=\"carousel-control-next-icon\"\n              aria-hidden=\"true\"\n            ></span>\n            <span className=\"sr-only\">Next</span>\n          </a>\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Carousel;\n","import React, { useState } from 'react';\nimport Carousel from '../../Carousel';\n\nconst CardBody = ({ post, theme }) => {\n  const [readMore, setReadMore] = useState(false);\n\n  return (\n    <div className=\"card_body\">\n      <div\n        className=\"card_body-content\"\n        style={{\n          filter: theme ? 'invert(1)' : 'invert(0)',\n          color: theme ? 'white' : '#111',\n        }}\n      >\n        <span>\n          {post.content.length < 60\n            ? post.content\n            : readMore\n            ? post.content + ' '\n            : post.content.slice(0, 60) + '.....'}\n        </span>\n        {post.content.length > 60 && (\n          <span className=\"readMore\" onClick={() => setReadMore(!readMore)}>\n            {readMore ? 'Hide content' : 'Read more'}\n          </span>\n        )}\n      </div>\n      {post.images.length > 0 && (\n        <Carousel images={post.images} id={post._id} />\n      )}\n    </div>\n  );\n};\n\nexport default CardBody;\n","export default __webpack_public_path__ + \"static/media/send.fab9d966.svg\";","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nconst LikeButton = ({isLike, handleLike, handleUnLike}) => {\n    const { theme } = useSelector(state => state)\n\n    return (\n        <>\n            {\n                isLike\n                ? <i className=\"fas fa-heart text-danger\" onClick={handleUnLike}\n                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n                : <i className=\"far fa-heart\" onClick={handleLike} />\n            }\n        </>\n    )\n}\n\nexport default LikeButton\n","import React from 'react'\nimport {\n    EmailShareButton, EmailIcon,\n    FacebookShareButton, FacebookIcon,\n    TelegramShareButton, TelegramIcon,\n    TwitterShareButton, TwitterIcon,\n    WhatsappShareButton, WhatsappIcon,\n    RedditShareButton, RedditIcon\n} from 'react-share'\n\nconst ShareModal = ({url, theme}) => {\n    return (\n        <div className=\"d-flex justify-content-between px-4 py-2\"\n        style={{filter: theme ? 'invert(1)' : 'invert(0)' }}>\n            <FacebookShareButton url={url} >\n                <FacebookIcon round={true} size={32} />\n            </FacebookShareButton>\n\n            <TwitterShareButton url={url} >\n                <TwitterIcon round={true} size={32} />\n            </TwitterShareButton>\n\n            <EmailShareButton url={url} >\n                <EmailIcon round={true} size={32} />\n            </EmailShareButton>\n\n            <RedditShareButton url={url} >\n                <RedditIcon round={true} size={32} />\n            </RedditShareButton>\n\n            <TelegramShareButton url={url} >\n                <TelegramIcon round={true} size={32} />\n            </TelegramShareButton>\n\n            <WhatsappShareButton url={url} >\n                <WhatsappIcon round={true} size={32} />\n            </WhatsappShareButton>\n        </div>\n    )\n}\n\nexport default ShareModal\n","import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport Send from '../../../images/send.svg'\nimport LikeButton from '../../LikeButton'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { likePost, unLikePost, savePost, unSavePost } from '../../../redux/actions/postAction'\nimport ShareModal from '../../ShareModal'\nimport { BASE_URL } from '../../../utils/config'\n\n\nconst CardFooter = ({post}) => {\n    const [isLike, setIsLike] = useState(false)\n    const [loadLike, setLoadLike] = useState(false)\n\n    const [isShare, setIsShare] = useState(false)\n\n    const { auth, theme, socket } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [saved, setSaved] = useState(false)\n    const [saveLoad, setSaveLoad] = useState(false)\n\n    // Likes\n    useEffect(() => {\n        if(post.likes.find(like => like._id === auth.user._id)){\n            setIsLike(true)\n        }else{\n            setIsLike(false)\n        }\n    }, [post.likes, auth.user._id])\n\n    const handleLike = async () => {\n        if(loadLike) return;\n        \n        setLoadLike(true)\n        await dispatch(likePost({post, auth, socket}))\n        setLoadLike(false)\n    }\n\n    const handleUnLike = async () => {\n        if(loadLike) return;\n\n        setLoadLike(true)\n        await dispatch(unLikePost({post, auth, socket}))\n        setLoadLike(false)\n    }\n\n\n    // Saved\n    useEffect(() => {\n        if(auth.user.saved.find(id => id === post._id)){\n            setSaved(true)\n        }else{\n            setSaved(false)\n        }\n    },[auth.user.saved, post._id])\n\n    const handleSavePost = async () => {\n        if(saveLoad) return;\n        \n        setSaveLoad(true)\n        await dispatch(savePost({post, auth}))\n        setSaveLoad(false)\n    }\n\n    const handleUnSavePost = async () => {\n        if(saveLoad) return;\n\n        setSaveLoad(true)\n        await dispatch(unSavePost({post, auth}))\n        setSaveLoad(false)\n    }\n\n    return (\n        <div className=\"card_footer\">\n            <div className=\"card_icon_menu\">\n                <div>\n                    <LikeButton \n                    isLike={isLike}\n                    handleLike={handleLike}\n                    handleUnLike={handleUnLike}\n                    />\n\n                    <Link to={`/post/${post._id}`} className=\"text-dark\">\n                        <i className=\"far fa-comment\" />\n                    </Link>\n\n                    <img src={Send} alt=\"Send\" onClick={() => setIsShare(!isShare)} />\n                </div>\n\n                {\n                    saved \n                    ?  <i className=\"fas fa-bookmark text-info\"\n                    onClick={handleUnSavePost} />\n\n                    :  <i className=\"far fa-bookmark\"\n                    onClick={handleSavePost} />\n                }\n               \n            </div>\n\n            <div className=\"d-flex justify-content-between\">\n                <h6 style={{padding: '0 25px', cursor: 'pointer'}}>\n                    {post.likes.length} likes\n                </h6>\n                \n                <h6 style={{padding: '0 25px', cursor: 'pointer'}}>\n                    {post.comments.length} comments\n                </h6>\n            </div>\n\n            {\n                isShare && <ShareModal url={`${BASE_URL}/post/${post._id}`} theme={theme} />\n            }\n        </div>\n    )\n}\n\nexport default CardFooter\n","import { GLOBALTYPES, EditData, DeleteData } from './globalTypes'\nimport { POST_TYPES } from './postAction'\nimport { postDataAPI, patchDataAPI, deleteDataAPI } from '../../utils/fetchData'\nimport { createNotify, removeNotify } from '../actions/notifyAction'\n\n\nexport const createComment = ({post, newComment, auth, socket}) => async (dispatch) => {\n    const newPost = {...post, comments: [...post.comments, newComment]}\n    \n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n    try {\n        const data = {...newComment, postId: post._id, postUserId: post.user._id}\n        const res = await postDataAPI('comment', data, auth.token)\n\n        const newData = {...res.data.newComment, user: auth.user}\n        const newPost = {...post, comments: [...post.comments, newData]}\n        dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n        // Socket\n        socket.emit('createComment', newPost)\n\n        // Notify\n        const msg = {\n            id: res.data.newComment._id,\n            text: newComment.reply ? 'mentioned you in a comment.' : 'has commented on your post.',\n            recipients: newComment.reply ? [newComment.tag._id] : [post.user._id],\n            url: `/post/${post._id}`,\n            content: post.content, \n            image: post.images[0].url\n        }\n\n        dispatch(createNotify({msg, auth, socket}))\n        \n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n}\n\nexport const updateComment = ({comment, post, content, auth}) => async (dispatch) => {\n    const newComments = EditData(post.comments, comment._id, {...comment, content})\n    const newPost = {...post, comments: newComments}\n    \n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n    try {\n        patchDataAPI(`comment/${comment._id}`, { content }, auth.token)\n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n}\n\nexport const likeComment = ({comment, post, auth}) => async (dispatch) => {\n    const newComment = {...comment, likes: [...comment.likes, auth.user]}\n\n    const newComments = EditData(post.comments, comment._id, newComment)\n\n    const newPost = {...post, comments: newComments}\n    \n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n    try {\n        await patchDataAPI(`comment/${comment._id}/like`, null, auth.token)\n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n}\n\nexport const unLikeComment = ({comment, post, auth}) => async (dispatch) => {\n\n    const newComment = {...comment, likes: DeleteData(comment.likes, auth.user._id)}\n\n    const newComments = EditData(post.comments, comment._id, newComment)\n\n    const newPost = {...post, comments: newComments}\n    \n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n    try {\n        await patchDataAPI(`comment/${comment._id}/unlike`, null, auth.token)\n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n}\n\nexport const deleteComment = ({post, comment, auth, socket}) => async (dispatch) => {\n    const deleteArr = [...post.comments.filter(cm => cm.reply === comment._id), comment]\n    \n    const newPost = {\n        ...post,\n        comments: post.comments.filter(cm => !deleteArr.find(da => cm._id === da._id))\n    }\n\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n    socket.emit('deleteComment', newPost)\n    try {\n       deleteArr.forEach(item => {\n            deleteDataAPI(`comment/${item._id}`, auth.token)\n\n            const msg = {\n                id: item._id,\n                text: comment.reply ? 'mentioned you in a comment.' : 'has commented on your post.',\n                recipients: comment.reply ? [comment.tag._id] : [post.user._id],\n                url: `/post/${post._id}`,\n            }\n    \n            dispatch(removeNotify({msg, auth, socket}))\n       })\n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n\n}","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { deleteComment } from '../../../redux/actions/commentAction'\n\nconst CommentMenu = ({post, comment, setOnEdit}) => {\n\n    const { auth, socket } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const handleRemove = () => {\n        if(post.user._id === auth.user._id || comment.user._id === auth.user._id){\n            dispatch(deleteComment({post, auth, comment, socket}))\n        }\n    }\n\n    const MenuItem = () => {\n        return(\n            <>\n                <div className=\"dropdown-item\" onClick={() => setOnEdit(true)}>\n                    <span className=\"material-icons\">create</span> Edit\n                </div>\n                <div className=\"dropdown-item\" onClick={handleRemove}>\n                    <span className=\"material-icons\">delete_outline</span> Remove\n                </div>\n            </>\n        )\n    }\n\n\n    return (\n        <div className=\"menu\">\n            {\n                (post.user._id === auth.user._id || comment.user._id === auth.user._id) &&\n                <div className=\"nav-item dropdown\">\n                    <span className=\"material-icons\" id=\"moreLink\" data-toggle=\"dropdown\">\n                        more_vert\n                    </span>\n\n                    <div className=\"dropdown-menu\" aria-labelledby=\"moreLink\">\n                        {\n                            post.user._id === auth.user._id\n                            ? comment.user._id === auth.user._id\n                                ? MenuItem()\n                                : <div className=\"dropdown-item\" onClick={handleRemove}>\n                                    <span className=\"material-icons\">delete_outline</span> Remove\n                                </div>\n                            : comment.user._id === auth.user._id && MenuItem()\n                        }\n                    </div>\n\n                </div>\n            }\n            \n        </div>\n    )\n}\n\nexport default CommentMenu\n","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { createComment } from '../../redux/actions/commentAction'\nimport Icons from '../Icons'\n\nconst InputComment = ({children, post, onReply, setOnReply}) => {\n    const [content, setContent] = useState('')\n\n    const { auth, socket, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        if(!content.trim()){\n            if(setOnReply) return setOnReply(false);\n            return;\n        }\n\n        setContent('')\n        \n        const newComment = {\n            content,\n            likes: [],\n            user: auth.user,\n            createdAt: new Date().toISOString(),\n            reply: onReply && onReply.commentId,\n            tag: onReply && onReply.user\n        }\n        \n        dispatch(createComment({post, newComment, auth, socket}))\n\n        if(setOnReply) return setOnReply(false);\n    }\n\n    return (\n        <form className=\"card-footer comment_input\" onSubmit={handleSubmit} >\n            {children}\n            <input type=\"text\" placeholder=\"Add your comments...\"\n            value={content} onChange={e => setContent(e.target.value)}\n            style={{\n                filter: theme ? 'invert(1)' : 'invert(0)',\n                color: theme ? 'white' : '#111',\n                background: theme ? 'rgba(0,0,0,.03)' : '',\n            }} />\n\n            <Icons setContent={setContent} content={content} theme={theme} />\n\n            <button type=\"submit\" className=\"postBtn\">\n                Post\n            </button>\n        </form>\n    )\n}\n\nexport default InputComment\n","import React, { useState, useEffect } from 'react'\nimport Avatar from '../../Avatar'\nimport { Link } from 'react-router-dom'\nimport moment from 'moment'\n\nimport LikeButton from '../../LikeButton'\nimport { useSelector, useDispatch } from 'react-redux'\nimport CommentMenu from './CommentMenu'\nimport { updateComment, likeComment, unLikeComment } from '../../../redux/actions/commentAction'\nimport InputComment from '../InputComment'\n\nconst CommentCard = ({children, comment, post, commentId}) => {\n    const { auth, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [content, setContent] = useState('')\n    const [readMore, setReadMore] = useState(false)\n\n    const [onEdit, setOnEdit] = useState(false)\n    const [isLike, setIsLike] = useState(false)\n    const [loadLike, setLoadLike] = useState(false)\n\n    const [onReply, setOnReply] = useState(false)\n\n\n    useEffect(() => {\n        setContent(comment.content)\n        setIsLike(false)\n        setOnReply(false)\n        if(comment.likes.find(like => like._id === auth.user._id)){\n            setIsLike(true)\n        }\n    },[comment, auth.user._id])\n\n    const handleUpdate = () => {\n        if(comment.content !== content){\n            dispatch(updateComment({comment, post, content, auth}))\n            setOnEdit(false)\n        }else{\n            setOnEdit(false)\n        }\n    }\n\n\n    const handleLike = async () => {\n        if(loadLike) return;\n        setIsLike(true)\n\n        setLoadLike(true)\n        await dispatch(likeComment({comment, post, auth}))\n        setLoadLike(false)\n    }\n\n    const handleUnLike = async () => {\n        if(loadLike) return;\n        setIsLike(false)\n\n        setLoadLike(true)\n        await dispatch(unLikeComment({comment, post, auth}))\n        setLoadLike(false)\n    }\n\n\n    const handleReply = () => {\n        if(onReply) return setOnReply(false)\n        setOnReply({...comment, commentId})\n    }\n\n    const styleCard = {\n        opacity: comment._id ? 1 : 0.5,\n        pointerEvents: comment._id ? 'inherit' : 'none'\n    }\n\n    return (\n        <div className=\"comment_card mt-2\" style={styleCard}>\n            <Link to={`/profile/${comment.user._id}`} className=\"d-flex text-dark\">\n                <Avatar src={comment.user.avatar} size=\"small-avatar\" />\n                <h6 className=\"mx-1\">{comment.user.username}</h6>\n            </Link>\n\n            <div className=\"comment_content\">\n                <div className=\"flex-fill\" \n                style={{\n                    filter: theme ? 'invert(1)' : 'invert(0)',\n                    color: theme ? 'white' : '#111',\n                }}>\n                    {\n                        onEdit \n                        ? <textarea rows=\"5\" value={content}\n                        onChange={e => setContent(e.target.value)} />\n\n                        : <div>\n                            {\n                                comment.tag && comment.tag._id !== comment.user._id &&\n                                <Link to={`/profile/${comment.tag._id}`} className=\"mr-1\">\n                                    @{comment.tag.username}\n                                </Link>\n                            }\n                            <span>\n                                {\n                                    content.length < 100 ? content :\n                                    readMore ? content + ' ' : content.slice(0, 100) + '....'\n                                }\n                            </span>\n                            {\n                                content.length > 100 &&\n                                <span className=\"readMore\" onClick={() => setReadMore(!readMore)}>\n                                    {readMore ? 'Hide content' : 'Read more'}\n                                </span>\n                            }\n                        </div>\n                    }\n                    \n\n                    <div style={{cursor: 'pointer'}}>\n                        <small className=\"text-muted mr-3\">\n                            {moment(comment.createdAt).fromNow()}\n                        </small>\n\n                        <small className=\"font-weight-bold mr-3\">\n                            {comment.likes.length} likes\n                        </small>\n\n                        {\n                            onEdit\n                            ? <>\n                                <small className=\"font-weight-bold mr-3\"\n                                onClick={handleUpdate}>\n                                    update\n                                </small>\n                                <small className=\"font-weight-bold mr-3\"\n                                onClick={() => setOnEdit(false)}>\n                                    cancel\n                                </small>\n                            </>\n\n                            : <small className=\"font-weight-bold mr-3\"\n                            onClick={handleReply}>\n                                {onReply ? 'cancel' :'reply'}\n                            </small>\n                        }\n                        \n                    </div>\n                    \n                </div>\n\n\n                <div className=\"d-flex align-items-center mx-2\" style={{cursor: 'pointer'}}>\n                    <CommentMenu post={post} comment={comment} setOnEdit={setOnEdit} />\n                    <LikeButton isLike={isLike} handleLike={handleLike} handleUnLike={handleUnLike} />\n                </div>\n            </div> \n            \n            {\n                onReply &&\n                <InputComment post={post} onReply={onReply} setOnReply={setOnReply} >\n                    <Link to={`/profile/${onReply.user._id}`} className=\"mr-1\">\n                        @{onReply.user.username}:\n                    </Link>\n                </InputComment>\n            }\n\n            {children}\n        </div>\n    )\n}\n\nexport default CommentCard\n","import React, { useState, useEffect } from 'react'\nimport CommentCard from './CommentCard'\n\nconst CommentDisplay = ({comment, post, replyCm}) => {\n    const [showRep, setShowRep] = useState([])\n    const [next, setNext] = useState(1)\n\n    useEffect(() => {\n        setShowRep(replyCm.slice(replyCm.length - next))\n    },[replyCm, next])\n\n    return (\n        <div className=\"comment_display\">\n            <CommentCard comment={comment} post={post} commentId={comment._id} >\n                <div className=\"pl-4\">\n                    {\n                        showRep.map((item, index) => (\n                            item.reply &&\n                            <CommentCard\n                            key={index}\n                            comment={item}\n                            post={post}\n                            commentId={comment._id}\n                             />\n                        ))\n                    }\n\n                    {\n                        replyCm.length - next > 0\n                        ? <div style={{cursor: 'pointer', color: 'crimson'}}\n                        onClick={() => setNext(next + 10)}>\n                            See more comments...\n                        </div>\n\n                        : replyCm.length > 1 &&\n                        <div style={{cursor: 'pointer', color: 'crimson'}}\n                        onClick={() => setNext(1)}>\n                            Hide comments...\n                        </div>\n                    }\n                </div>\n            </CommentCard>\n        </div>\n    )\n}\n\nexport default CommentDisplay\n","import React, { useState, useEffect } from 'react'\nimport CommentDisplay from './comments/CommentDisplay'\n\nconst Comments = ({post}) => {\n    const [comments, setComments] = useState([])\n    const [showComments, setShowComments] = useState([])\n    const [next, setNext] = useState(2)\n\n    const [replyComments, setReplyComments] = useState([])\n\n    useEffect(() => {\n        const newCm = post.comments.filter(cm => !cm.reply)\n        setComments(newCm)\n        setShowComments(newCm.slice(newCm.length - next))\n    },[post.comments, next])\n\n    useEffect(()=> {\n        const newRep = post.comments.filter(cm => cm.reply)\n        setReplyComments(newRep)\n    }, [post.comments])\n\n    return (\n        <div className=\"comments\">\n            {\n                showComments.map((comment, index) => (\n                    <CommentDisplay key={index} comment={comment} post={post}\n                    replyCm={replyComments.filter(item => item.reply === comment._id)} />\n                ))\n            }\n\n            {\n                comments.length - next > 0\n                ? <div className=\"p-2 border-top\"\n                style={{cursor: 'pointer', color: 'crimson'}}\n                onClick={() => setNext(next + 10)}>\n                    See more comments...\n                </div>\n\n                : comments.length > 2 &&\n                <div className=\"p-2 border-top\"\n                style={{cursor: 'pointer', color: 'crimson'}}\n                onClick={() => setNext(2)}>\n                    Hide comments...\n                </div>\n            }\n        </div>\n    )\n}\n\nexport default Comments\n","import React from 'react'\nimport CardHeader from './home/post_card/CardHeader'\nimport CardBody from './home/post_card/CardBody'\nimport CardFooter from './home/post_card/CardFooter'\n\nimport Comments from './home/Comments'\nimport InputComment from './home/InputComment'\n\nconst PostCard = ({post, theme}) => {\n    return (\n        <div className=\"card my-3\"> \n            <CardHeader post={post} />\n            <CardBody post={post} theme={theme} />\n            <CardFooter post={post} />\n\n            <Comments post={post} />\n            <InputComment post={post} />\n        </div>\n    )\n}\n\nexport default PostCard\n","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getDiscoverPosts, DISCOVER_TYPES } from '../redux/actions/discoverAction'\nimport LoadIcon from '../images/loading.gif'\nimport PostThumb from '../components/PostThumb'\nimport LoadMoreBtn from '../components/LoadMoreBtn'\nimport { getDataAPI} from '../utils/fetchData'\n\nconst Discover = () => {\n    const { auth, discover } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [load, setLoad] = useState(false)\n\n    useEffect(() => {\n        if(!discover.firstLoad){\n            dispatch(getDiscoverPosts(auth.token))\n        }\n    },[dispatch, auth.token, discover.firstLoad])\n\n    const handleLoadMore = async () => {\n        setLoad(true)\n        const res = await getDataAPI(`post_discover?num=${discover.page * 9}`, auth.token)\n        dispatch({type: DISCOVER_TYPES.UPDATE_POST, payload: res.data})\n        setLoad(false)\n    }\n\n    return (\n        <div>\n            {\n                discover.loading \n                ? <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\n                : <PostThumb posts={discover.posts} result={discover.result} />\n            }\n\n            {\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n            }\n\n            {\n                !discover.loading &&\n                <LoadMoreBtn result={discover.result} page={discover.page}\n                load={load} handleLoadMore={handleLoadMore} />\n            }\n            \n        </div>\n    )\n}\n\nexport default Discover\n","import axios from 'axios'\n\nexport const getDataAPI = async (url, token) => {\n    const res = await axios.get(`/api/${url}`, {\n        headers: { Authorization: token}\n    })\n    return res;\n}\n\nexport const postDataAPI = async (url, post, token) => {\n    const res = await axios.post(`/api/${url}`, post, {\n        headers: { Authorization: token}\n    })\n    return res;\n}\n\nexport const putDataAPI = async (url, post, token) => {\n    const res = await axios.put(`/api/${url}`, post, {\n        headers: { Authorization: token}\n    })\n    return res;\n}\n\nexport const patchDataAPI = async (url, post, token) => {\n    const res = await axios.patch(`/api/${url}`, post, {\n        headers: { Authorization: token}\n    })\n    return res;\n}\n\nexport const deleteDataAPI = async (url, token) => {\n    const res = await axios.delete(`/api/${url}`, {\n        headers: { Authorization: token}\n    })\n    return res;\n}","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getPost } from '../../redux/actions/postAction'\nimport LoadIcon from '../../images/loading.gif'\nimport PostCard from '../../components/PostCard'\n\n\nconst Post = () => {\n    const { id } = useParams()\n    const [post, setPost] = useState([])\n\n    const { auth, detailPost } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getPost({detailPost, id, auth}))\n\n        if(detailPost.length > 0){\n            const newArr = detailPost.filter(post => post._id === id)\n            setPost(newArr)\n        }\n    },[detailPost, dispatch, id, auth])\n\n    return (\n        <div className=\"posts\">\n            {\n                post.length === 0 &&\n                <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\n            }\n\n            {\n                post.map(item => (\n                    <PostCard key={item._id} post={item} />\n                ))\n            }\n        </div>\n    )\n}\n\nexport default Post\n","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { checkImage } from '../../utils/imageUpload';\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\nimport { updateProfileUser } from '../../redux/actions/profileAction';\n\nconst EditProfile = ({ setOnEdit }) => {\n  const initState = {\n    fullname: '',\n    mobile: '',\n    address: '',\n    website: '',\n    story: '',\n    gender: '',\n  };\n  const [userData, setUserData] = useState(initState);\n  const { fullname, mobile, address, website, story, gender } = userData;\n\n  const [avatar, setAvatar] = useState('');\n\n  const { auth, theme } = useSelector((state) => state);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    setUserData(auth.user);\n  }, [auth.user]);\n\n  const changeAvatar = (e) => {\n    const file = e.target.files[0];\n\n    const err = checkImage(file);\n    if (err)\n      return dispatch({\n        type: GLOBALTYPES.ALERT,\n        payload: { error: err },\n      });\n\n    setAvatar(file);\n  };\n\n  const handleInput = (e) => {\n    const { name, value } = e.target;\n    setUserData({ ...userData, [name]: value });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    dispatch(updateProfileUser({ userData, avatar, auth }));\n  };\n\n  return (\n    <div className=\"edit_profile\">\n      <button\n        className=\"btn btn-danger btn_close\"\n        onClick={() => setOnEdit(false)}\n      >\n        Close\n      </button>\n\n      <form onSubmit={handleSubmit}>\n        <div className=\"info_avatar\">\n          <img\n            src={\n              avatar\n                ? URL.createObjectURL(avatar)\n                : `/public/images/${auth.user.avatar}`\n            }\n            alt=\"avatar\"\n            style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\n          />\n          <span>\n            <i className=\"fas fa-camera\" />\n            <p>Change</p>\n            <input\n              type=\"file\"\n              name=\"file\"\n              id=\"file_up\"\n              accept=\"image/*\"\n              onChange={changeAvatar}\n            />\n          </span>\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"fullname\">Full Name</label>\n          <div className=\"position-relative\">\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"fullname\"\n              name=\"fullname\"\n              value={fullname}\n              onChange={handleInput}\n            />\n            <small\n              className=\"text-danger position-absolute\"\n              style={{\n                top: '50%',\n                right: '5px',\n                transform: 'translateY(-50%)',\n              }}\n            >\n              {fullname.length}/25\n            </small>\n          </div>\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"mobile\">Mobile</label>\n          <input\n            type=\"text\"\n            name=\"mobile\"\n            value={mobile}\n            className=\"form-control\"\n            onChange={handleInput}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"address\">Address</label>\n          <input\n            type=\"text\"\n            name=\"address\"\n            value={address}\n            className=\"form-control\"\n            onChange={handleInput}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"website\">Website</label>\n          <input\n            type=\"text\"\n            name=\"website\"\n            value={website}\n            className=\"form-control\"\n            onChange={handleInput}\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <label htmlFor=\"story\">Story</label>\n          <textarea\n            name=\"story\"\n            value={story}\n            cols=\"30\"\n            rows=\"4\"\n            className=\"form-control\"\n            onChange={handleInput}\n          />\n\n          <small className=\"text-danger d-block text-right\">\n            {story.length}/200\n          </small>\n        </div>\n\n        <label htmlFor=\"gender\">Gender</label>\n        <div className=\"input-group-prepend px-0 mb-4\">\n          <select\n            name=\"gender\"\n            id=\"gender\"\n            value={gender}\n            className=\"custom-select text-capitalize\"\n            onChange={handleInput}\n          >\n            <option value=\"male\">Male</option>\n            <option value=\"female\">Female</option>\n            <option value=\"other\">Other</option>\n          </select>\n        </div>\n\n        <button className=\"btn btn-info w-100\" type=\"submit\">\n          Save\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default EditProfile;\n","import React from 'react'\nimport UserCard from '../UserCard'\nimport FollowBtn from '../FollowBtn'\nimport { useSelector } from 'react-redux'\n\nconst Followers = ({users, setShowFollowers}) => {\n    const { auth } = useSelector(state => state)\n    return (\n        <div className=\"follow\">\n            <div className=\"follow_box\">\n                <h5 className=\"text-center\">Followers</h5>\n                <hr/>\n                \n                <div className=\"follow_content\">\n                    {\n                        users.map(user => (\n                            <UserCard key={user._id} user={user} setShowFollowers={setShowFollowers} >\n                                {\n                                    auth.user._id !== user._id && <FollowBtn user={user} />\n                                }\n                            </UserCard>\n                        ))\n                    }\n                </div>\n                \n\n                <div className=\"close\" onClick={() => setShowFollowers(false)}>\n                    &times;\n                </div>\n                \n            </div>\n        </div>\n    )\n}\n\nexport default Followers\n","import React from 'react'\nimport UserCard from '../UserCard'\nimport FollowBtn from '../FollowBtn'\nimport { useSelector } from 'react-redux'\n\nconst Following = ({users, setShowFollowing}) => {\n    const { auth } = useSelector(state => state)\n    return (\n        <div className=\"follow\">\n            <div className=\"follow_box\">\n                <h5 className=\"text-center\">Following</h5>\n                <hr/>\n\n                <div className=\"follow_content\">\n                    {\n                        users.map(user => (\n                            <UserCard key={user._id} user={user} setShowFollowing={setShowFollowing} >\n                                {\n                                    auth.user._id !== user._id && <FollowBtn user={user} />\n                                }\n                            </UserCard>\n                        ))\n                    }\n                </div>\n\n                <div className=\"close\" onClick={() => setShowFollowing(false)}>\n                    &times;\n                </div>\n                \n            </div>\n        </div>\n    )\n}\n\nexport default Following\n","import React, { useState, useEffect } from 'react'\nimport Avatar from '../Avatar'\nimport EditProfile from './EditProfile'\nimport FollowBtn from '../FollowBtn'\nimport Followers from './Followers'\nimport Following from './Following'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\n\nconst Info = ({id, auth, profile, dispatch}) => {\n    const [userData, setUserData] = useState([])\n    const [onEdit, setOnEdit] = useState(false)\n\n    const [showFollowers, setShowFollowers] = useState(false)\n    const [showFollowing, setShowFollowing] = useState(false)\n\n    useEffect(() => {\n        if(id === auth.user._id){\n            setUserData([auth.user])\n        }else{\n            const newData = profile.users.filter(user => user._id === id)\n            setUserData(newData)\n        }\n    }, [id, auth, dispatch, profile.users])\n\n\n    useEffect(() => {\n        if(showFollowers || showFollowing || onEdit){\n            dispatch({ type: GLOBALTYPES.MODAL, payload: true})\n        }else{\n            dispatch({ type: GLOBALTYPES.MODAL, payload: false})\n        }\n    },[showFollowers, showFollowing, onEdit, dispatch])\n    \n\n    return (\n        <div className=\"info\">\n            {\n                userData.map(user => (\n                    <div className=\"info_container\" key={user._id}>\n                        <Avatar src={user.avatar} size=\"supper-avatar\" />\n\n                        <div className=\"info_content\">\n                            <div className=\"info_content_title\">\n                                <h2>{user.username}</h2>\n                                {\n                                    user._id === auth.user._id\n                                    ?  <button className=\"btn btn-outline-info\"\n                                    onClick={() => setOnEdit(true)}>\n                                        Edit Profile\n                                    </button>\n                                    \n                                    : <FollowBtn user={user} />\n                                }\n                               \n                                \n                            </div>\n\n                            <div className=\"follow_btn\">\n                                <span className=\"mr-4\" onClick={() => setShowFollowers(true)}>\n                                    {user.followers.length} Followers\n                                </span>\n                                <span className=\"ml-4\" onClick={() => setShowFollowing(true)}>\n                                    {user.following.length} Following\n                                </span>\n                            </div>\n\n                            <h6>{user.fullname} <span className=\"text-danger\">{user.mobile}</span></h6>\n                            <p className=\"m-0\">{user.address}</p>\n                            <h6 className=\"m-0\">{user.email}</h6>\n                            <a href={user.website} target=\"_blank\" rel=\"noreferrer\">\n                                {user.website}\n                            </a>\n                            <p>{user.story}</p>\n                        </div>\n\n                        {\n                            onEdit && <EditProfile setOnEdit={setOnEdit} />\n                        }\n\n                        {\n                            showFollowers &&\n                            <Followers \n                            users={user.followers} \n                            setShowFollowers={setShowFollowers} \n                            />\n                        }\n                        {\n                            showFollowing &&\n                            <Following \n                            users={user.following} \n                            setShowFollowing={setShowFollowing} \n                            />\n                        }\n                    </div>\n                ))\n            }\n        </div>\n    )\n}\n\nexport default Info\n","import React, { useState, useEffect } from 'react'\nimport PostThumb from '../PostThumb'\nimport LoadIcon from '../../images/loading.gif'\nimport LoadMoreBtn from '../LoadMoreBtn'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { PROFILE_TYPES } from '../../redux/actions/profileAction'\n\nconst Posts = ({auth, id, dispatch, profile}) => {\n    const [posts, setPosts] = useState([])\n    const [result, setResult] = useState(9)\n    const [page, setPage] = useState(0)\n    const [load, setLoad] = useState(false)\n\n    useEffect(() => {\n        profile.posts.forEach(data => {\n            if(data._id === id){\n                setPosts(data.posts)\n                setResult(data.result)\n                setPage(data.page)\n            }\n        })\n    },[profile.posts, id])\n\n    const handleLoadMore = async () => {\n        setLoad(true)\n        const res = await getDataAPI(`user_posts/${id}?limit=${page * 9}`, auth.token)\n        const newData = {...res.data, page: page + 1, _id: id}\n        dispatch({type: PROFILE_TYPES.UPDATE_POST, payload: newData})\n        setLoad(false)\n    }\n\n    return (\n        <div>\n            <PostThumb posts={posts} result={result} />\n\n            {\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n            }\n\n            \n            <LoadMoreBtn result={result} page={page}\n            load={load} handleLoadMore={handleLoadMore} />\n            \n        </div>\n    )\n}\n\nexport default Posts\n","import React, { useState, useEffect } from 'react'\nimport PostThumb from '../PostThumb'\nimport LoadIcon from '../../images/loading.gif'\nimport LoadMoreBtn from '../LoadMoreBtn'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\n\nconst Saved = ({auth, dispatch}) => {\n    const [savePosts, setSavePosts] = useState([])\n    const [result, setResult] = useState(9)\n    const [page, setPage] = useState(2)\n    const [load, setLoad] = useState(false)\n\n    useEffect(() => {\n        setLoad(true)\n        getDataAPI('getSavePosts', auth.token)\n        .then(res => {\n            setSavePosts(res.data.savePosts)\n            setResult(res.data.result)\n            setLoad(false)\n        })\n        .catch(err => {\n            dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n        })\n\n        return () => setSavePosts([])\n    },[auth.token, dispatch])\n\n    const handleLoadMore = async () => {\n        setLoad(true)\n        const res = await getDataAPI(`getSavePosts?limit=${page * 9}`, auth.token)\n        setSavePosts(res.data.savePosts)\n        setResult(res.data.result)\n        setPage(page + 1)\n        setLoad(false)\n    }\n\n    return (\n        <div>\n            <PostThumb posts={savePosts} result={result} />\n\n            {\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n            }\n\n            \n            <LoadMoreBtn result={result} page={page}\n            load={load} handleLoadMore={handleLoadMore} />\n            \n        </div>\n    )\n}\n\nexport default Saved\n","import React, { useEffect, useState } from 'react'\n\nimport Info from '../../components/profile/Info'\nimport Posts from '../../components/profile/Posts'\nimport Saved from '../../components/profile/Saved'\n\nimport { useSelector, useDispatch } from 'react-redux'\nimport LoadIcon from '../../images/loading.gif'\nimport { getProfileUsers } from '../../redux/actions/profileAction'\nimport { useParams } from 'react-router-dom'\n\n\nconst Profile = () => {\n    const { profile, auth } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const { id } = useParams()\n    const [saveTab, setSaveTab] = useState(false)\n\n    useEffect(() => {\n        if(profile.ids.every(item => item !== id)){\n            dispatch(getProfileUsers({id, auth}))\n        }\n    },[id, auth, dispatch, profile.ids])\n\n    return (\n        <div className=\"profile\">\n            \n            <Info auth={auth} profile={profile} dispatch={dispatch} id={id} />\n\n            {\n                auth.user._id === id &&\n                <div className=\"profile_tab\">\n                    <button className={saveTab ? '' : 'active'} onClick={() => setSaveTab(false)}>Posts</button>\n                    <button className={saveTab ? 'active' : ''} onClick={() => setSaveTab(true)}>Saved</button>\n                </div>\n            }\n\n            {\n                profile.loading \n                ? <img className=\"d-block mx-auto\" src={LoadIcon} alt=\"loading\" />\n                : <>\n                    {\n                        saveTab\n                        ? <Saved auth={auth} dispatch={dispatch} />\n                        : <Posts auth={auth} profile={profile} dispatch={dispatch} id={id} />\n                    }\n                </>\n            }\n            \n        </div>\n    )\n}\n\nexport default Profile\n","export const imageShow = (src, theme) => {\r\n  return (\r\n    <img\r\n      src={`/public/images/${src}`}\r\n      alt=\"images\"\r\n      className=\"img-thumbnail\"\r\n      style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n    />\r\n  );\r\n};\r\n\r\nexport const videoShow = (src, theme) => {\r\n  return (\r\n    <video\r\n      controls\r\n      src={`/public/images/${src}`}\r\n      alt=\"images\"\r\n      className=\"img-thumbnail\"\r\n      style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\r\n    />\r\n  );\r\n};\r\n","import React from 'react'\n\nconst Times = ({total}) => {\n    return (\n        <div>\n            <span>\n                {\n                    (parseInt(total/3600)).toString().length < 2\n                    ? '0' + (parseInt(total/3600))\n                    : (parseInt(total/3600))\n                }\n            </span>\n            <span>:</span>\n\n            <span>\n                {\n                    (parseInt(total/60)).toString().length < 2\n                    ? '0' + (parseInt(total/60))\n                    : (parseInt(total/60))\n                }\n            </span>\n            <span>:</span>\n\n            <span>\n                {\n                    (total%60).toString().length < 2\n                    ? '0' + (total%60) + 's'\n                    : (total%60) + 's'\n                }\n            </span>\n        </div>\n    )\n}\n\nexport default Times\n","import React from 'react';\nimport Avatar from '../Avatar';\nimport { imageShow, videoShow } from '../../utils/mediaShow2';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { deleteMessages } from '../../redux/actions/messageAction';\nimport Times from './Times';\n\nconst MsgDisplay = ({ user, msg, theme, data }) => {\n  const { auth } = useSelector((state) => state);\n  const dispatch = useDispatch();\n\n  const handleDeleteMessages = () => {\n    if (!data) return;\n    console.log({ msg, data });\n\n    if (window.confirm('Do you want to delete?')) {\n      dispatch(deleteMessages({ msg, data, auth }));\n    }\n  };\n\n  return (\n    <>\n      <div className=\"chat_title\">\n        <Avatar src={user.avatar} size=\"small-avatar\" />\n        <span>{user.username}</span>\n      </div>\n\n      <div className=\"you_content\">\n        {user._id === auth.user._id && (\n          <i\n            className=\"fas fa-trash text-danger\"\n            onClick={handleDeleteMessages}\n          />\n        )}\n\n        <div>\n          {msg.text && (\n            <div\n              className=\"chat_text\"\n              style={{ filter: theme ? 'invert(1)' : 'invert(0)' }}\n            >\n              {msg.text}\n            </div>\n          )}\n          {msg.media.map((item, index) => (\n            <div key={index}>\n              {item.url.match(/video/i)\n                ? videoShow(item.url, theme)\n                : imageShow(item.url, theme)}\n            </div>\n          ))}\n        </div>\n\n        {msg.call && (\n          <button\n            className=\"btn d-flex align-items-center py-3\"\n            style={{ background: '#eee', borderRadius: '10px' }}\n          >\n            <span\n              className=\"material-icons font-weight-bold mr-1\"\n              style={{\n                fontSize: '2.5rem',\n                color: msg.call.times === 0 ? 'crimson' : 'green',\n                filter: theme ? 'invert(1)' : 'invert(0)',\n              }}\n            >\n              {msg.call.times === 0\n                ? msg.call.video\n                  ? 'videocam_off'\n                  : 'phone_disabled'\n                : msg.call.video\n                ? 'video_camera_front'\n                : 'call'}\n            </span>\n\n            <div className=\"text-left\">\n              <h6>{msg.call.video ? 'Video Call' : 'Audio Call'}</h6>\n              <small>\n                {msg.call.times > 0 ? (\n                  <Times total={msg.call.times} />\n                ) : (\n                  new Date(msg.createdAt).toLocaleTimeString()\n                )}\n              </small>\n            </div>\n          </button>\n        )}\n      </div>\n\n      <div className=\"chat_time\">\n        {new Date(msg.createdAt).toLocaleString()}\n      </div>\n    </>\n  );\n};\n\nexport default MsgDisplay;\n","import React, { useState, useEffect, useRef } from 'react';\nimport UserCard from '../UserCard';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useParams, useHistory } from 'react-router-dom';\nimport MsgDisplay from './MsgDisplay';\nimport Icons from '../Icons';\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\nimport { imageShow, videoShow } from '../../utils/mediaShow';\nimport { imageUpload } from '../../utils/imageUpload';\nimport {\n  addMessage,\n  getMessages,\n  loadMoreMessages,\n  deleteConversation,\n} from '../../redux/actions/messageAction';\nimport LoadIcon from '../../images/loading.gif';\n\nconst RightSide = () => {\n  const { auth, message, theme, socket, peer } = useSelector((state) => state);\n  const dispatch = useDispatch();\n\n  const { id } = useParams();\n  const [user, setUser] = useState([]);\n  const [text, setText] = useState('');\n  const [media, setMedia] = useState([]);\n  const [loadMedia, setLoadMedia] = useState(false);\n\n  const refDisplay = useRef();\n  const pageEnd = useRef();\n\n  const [data, setData] = useState([]);\n  const [result, setResult] = useState(9);\n  const [page, setPage] = useState(0);\n  const [isLoadMore, setIsLoadMore] = useState(0);\n\n  const history = useHistory();\n\n  useEffect(() => {\n    const newData = message.data.find((item) => item._id === id);\n    if (newData) {\n      setData(newData.messages);\n      setResult(newData.result);\n      setPage(newData.page);\n    }\n  }, [message.data, id]);\n\n  useEffect(() => {\n    if (id && message.users.length > 0) {\n      setTimeout(() => {\n        refDisplay.current.scrollIntoView({ behavior: 'smooth', block: 'end' });\n      }, 50);\n\n      const newUser = message.users.find((user) => user._id === id);\n      if (newUser) setUser(newUser);\n    }\n  }, [message.users, id]);\n\n  const handleChangeMedia = (e) => {\n    const files = [...e.target.files];\n    let err = '';\n    let newMedia = [];\n\n    files.forEach((file) => {\n      if (!file) return (err = 'File does not exist.');\n\n      if (file.size > 1024 * 1024 * 100) {\n        return (err = 'The image/video largest is 100mb.');\n      }\n\n      return newMedia.push(file);\n    });\n\n    if (err) dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } });\n    setMedia([...media, ...newMedia]);\n  };\n\n  const handleDeleteMedia = (index) => {\n    const newArr = [...media];\n    newArr.splice(index, 1);\n    setMedia(newArr);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!text.trim() && media.length === 0) return;\n    setText('');\n    setMedia([]);\n    setLoadMedia(true);\n\n    let newArr = [];\n    if (media.length > 0) newArr = await imageUpload(media);\n\n    const msg = {\n      sender: auth.user._id,\n      recipient: id,\n      text,\n      media: newArr,\n      createdAt: new Date().toISOString(),\n    };\n\n    setLoadMedia(false);\n    await dispatch(addMessage({ msg, auth, socket }));\n    if (refDisplay.current) {\n      refDisplay.current.scrollIntoView({ behavior: 'smooth', block: 'end' });\n    }\n  };\n\n  useEffect(() => {\n    const getMessagesData = async () => {\n      if (message.data.every((item) => item._id !== id)) {\n        await dispatch(getMessages({ auth, id }));\n        setTimeout(() => {\n          refDisplay.current.scrollIntoView({\n            behavior: 'smooth',\n            block: 'end',\n          });\n        }, 50);\n      }\n    };\n    getMessagesData();\n  }, [id, dispatch, auth, message.data]);\n\n  // Load More\n  useEffect(() => {\n    const observer = new IntersectionObserver(\n      (entries) => {\n        if (entries[0].isIntersecting) {\n          setIsLoadMore((p) => p + 1);\n        }\n      },\n      {\n        threshold: 0.1,\n      }\n    );\n\n    observer.observe(pageEnd.current);\n  }, [setIsLoadMore]);\n\n  useEffect(() => {\n    if (isLoadMore > 1) {\n      if (result >= page * 9) {\n        dispatch(loadMoreMessages({ auth, id, page: page + 1 }));\n        setIsLoadMore(1);\n      }\n    }\n    // eslint-disable-next-line\n  }, [isLoadMore]);\n\n  const handleDeleteConversation = () => {\n    if (window.confirm('Do you want to delete?')) {\n      dispatch(deleteConversation({ auth, id }));\n      return history.push('/message');\n    }\n  };\n\n  // Call\n  const caller = ({ video }) => {\n    const { _id, avatar, username, fullname } = user;\n\n    const msg = {\n      sender: auth.user._id,\n      recipient: _id,\n      avatar,\n      username,\n      fullname,\n      video,\n    };\n    dispatch({ type: GLOBALTYPES.CALL, payload: msg });\n  };\n\n  const callUser = ({ video }) => {\n    const { _id, avatar, username, fullname } = auth.user;\n\n    const msg = {\n      sender: _id,\n      recipient: user._id,\n      avatar,\n      username,\n      fullname,\n      video,\n    };\n\n    if (peer.open) msg.peerId = peer._id;\n\n    socket.emit('callUser', msg);\n  };\n\n  const handleAudioCall = () => {\n    caller({ video: false });\n    callUser({ video: false });\n  };\n\n  const handleVideoCall = () => {\n    caller({ video: true });\n    callUser({ video: true });\n  };\n\n  return (\n    <>\n      <div className=\"message_header\" style={{ cursor: 'pointer' }}>\n        {user.length !== 0 && (\n          <UserCard user={user}>\n            <div>\n              <i className=\"fas fa-phone-alt\" onClick={handleAudioCall} />\n\n              <i className=\"fas fa-video mx-3\" onClick={handleVideoCall} />\n\n              <i\n                className=\"fas fa-trash text-danger\"\n                onClick={handleDeleteConversation}\n              />\n            </div>\n          </UserCard>\n        )}\n      </div>\n\n      <div\n        className=\"chat_container\"\n        style={{ height: media.length > 0 ? 'calc(100% - 180px)' : '' }}\n      >\n        <div className=\"chat_display\" ref={refDisplay}>\n          <button style={{ marginTop: '-25px', opacity: 0 }} ref={pageEnd}>\n            Load more\n          </button>\n\n          {data.map((msg, index) => (\n            <div key={index}>\n              {msg.sender !== auth.user._id && (\n                <div className=\"chat_row other_message\">\n                  <MsgDisplay user={user} msg={msg} theme={theme} />\n                </div>\n              )}\n\n              {msg.sender === auth.user._id && (\n                <div className=\"chat_row you_message\">\n                  <MsgDisplay\n                    user={auth.user}\n                    msg={msg}\n                    theme={theme}\n                    data={data}\n                  />\n                </div>\n              )}\n            </div>\n          ))}\n\n          {loadMedia && (\n            <div className=\"chat_row you_message\">\n              <img src={LoadIcon} alt=\"loading\" />\n            </div>\n          )}\n        </div>\n      </div>\n\n      <div\n        className=\"show_media\"\n        style={{ display: media.length > 0 ? 'grid' : 'none' }}\n      >\n        {media.map((item, index) => (\n          <div key={index} id=\"file_media\">\n            {item.type.match(/video/i)\n              ? videoShow(URL.createObjectURL(item), theme)\n              : imageShow(URL.createObjectURL(item), theme)}\n            <span onClick={() => handleDeleteMedia(index)}>&times;</span>\n          </div>\n        ))}\n      </div>\n\n      <form className=\"chat_input\" onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          placeholder=\"Enter you message...\"\n          value={text}\n          onChange={(e) => setText(e.target.value)}\n          style={{\n            filter: theme ? 'invert(1)' : 'invert(0)',\n            background: theme ? '#040404' : '',\n            color: theme ? 'white' : '',\n          }}\n        />\n\n        <Icons setContent={setText} content={text} theme={theme} />\n\n        <div className=\"file_upload\">\n          <i className=\"fas fa-image text-danger\" />\n          <input\n            type=\"file\"\n            name=\"file\"\n            id=\"file\"\n            multiple\n            accept=\"image/*,video/*\"\n            onChange={handleChangeMedia}\n          />\n        </div>\n\n        <button\n          type=\"submit\"\n          className=\"material-icons\"\n          disabled={text || media.length > 0 ? false : true}\n        >\n          near_me\n        </button>\n      </form>\n    </>\n  );\n};\n\nexport default RightSide;\n","import React from 'react'\nimport LeftSide from '../../components/message/LeftSide'\nimport RightSide from '../../components/message/RightSide'\n\nconst Conversation = () => {\n    return (\n        <div className=\"message d-flex\">\n            <div className=\"col-md-4 border-right px-0 left_mess\">\n                <LeftSide />\n            </div>\n\n            <div className=\"col-md-8 px-0\">\n                <RightSide />\n            </div>\n        </div>\n    )\n}\n\nexport default Conversation\n"],"sourceRoot":""}